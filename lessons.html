<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Lessons</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>

	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<header id="header">
					<a href="index.html" class="logo">ARCADE SYSTEM PROJECT</a>
				</header>

				<!-- Nav -->
				<nav id="nav">
					<ul class="links">
						<li class="active"><a href="index.html">Project homepage</a></li>
						<li><a href="lessons.html">Lessons</a></li>
						<li><a href="documentation.html">Documentation</a></li>
					</ul>
				</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									<span class="date">October 18, 2019</span>
									<h1>Project Lessons</h1>
								</header>
								<ul>
									<li>
										<a href="#Lesson0"><b>Lesson 0</b>: Environment Setup</a>
									</li>
									<li>
										<a href="#Lesson1"><b>Lesson 1</b>: Introducing the Menu System/Designing a GUI</a>
									</li>
									<li>
										<a href="#Lesson2"><b>Lesson 2</b>: Using Git and Implementing the Menu System</a>
									</li>
									<li>
										<a href="#Lesson3"><b>Lesson 3</b>: Animation and Game Design</a>
									</li>
									<li>
										<a href="#Lesson4"><b>Lesson 4</b>: Animation and Game Design Part 2</a>
									</li>
									<li>
										<a href="#Lesson5"><b>Lesson 5</b>: Finishing the Game</a>
									</li>
								</ul>
								<hr>
								<p><b>Introduction:</b> Welcome to the lessons page of the Virtual Arcade System Software Project! This poject
										is a great opportunity to apply object oriented programming in C++. If you are a beginner, don't worry! These lessons 
										will help guide you through the process of building this project.
								</p>
										<p>
											<b><i>Note: This project does not assume any prior programming experience. However, this is not
											an easy project and may require you to spend time reading through these lessons and other resources I have linked if you have 
											little to no programming experience.</i></b> 
											<a name="Lesson0"></a>
											</br><hr><h2>Lesson 0: Environment setup (completion time: 15 min - 45min)</h2> 
											<i>For terms or concepts that may require additional explanation, I have provided clickable links to simple articles that provide more detail.</i>
											<br></br>
											<b>Overview:</b> Before we do anything, we need to set up an environment in which we can program in. This step is very important,
											so please read and follow every instruction carefully. This setup can be very frustrating if you 
											miss a step or something goes wrong so please be patient and email me with any questions. 
										</p>
										
										
										<h4>1. Downloading a code editor</h4>
										 No matter what language you use, when building a software project you need an environment where you can write code. For this project
										 we will be using Visual Studio Code which is a free code editor with tools and extensions that will help us build our project. Follow <a href="https://code.visualstudio.com/download" target="_blank">this link</a>
										 and download the according version (Windows or Mac).<br></br>
							
										<ul>
											<li>On <b>Windows</b>, an installation setup wizard should pop up (if not it will appear as something similar to "VSCodeUserSetup-x64-1.38.1.exe" in your downloads folder, double click it). Just hit next through the setup
												and leave the default settings unless you want to configure the installation in a certain way.</li>
											<li>On <b>Mac</b> it should show up in your downloads as a .zip. Double click on this to extract the archive. Move the Visual Studio Code application into 
												your applications folder and then open up the app.</li>
										</ul>

										<h4>2. Configuring Visual Studio Code for C++</h4>
							After installing Visual Studio Code we need to configure it so that we can develop in C++. Open it up if you haven't already and click the extensions icon (under the debug icon) in the left side bar. 
						Search for C++, click the first extension, and install it as shown in this image. <img src="images/extensions_img.jpg" alt="" style="float: left; width: 100%; margin-right: 1%;">This extension helps us write C++ code but does not come with a C++ compiler.
						 A compiler is a program that takes our C++ code and translates it into lower level "object code" which we will use to make an executable program. </br><b><i>For a better explanation of a compiler <a href="https://www.coronadoenterprises.com/tutorials/cpp/cpp_ans.html" target="_blank">click here</a></i></b>. </br>Setting up  Visual Studio Code with a C++
						compiler will be different based on your OS so follow the steps based on your computer.
						<br></br><h4>3. Setting up Visual Studio Code with a C++ compiler</h4>
						<center>
						</br>	<a href="#Windows">Windows</a>
								&nbsp;|&nbsp;
								<a href="#Mac">Mac</a>
						</center><hr>
						<a name="Windows"></a>	
				<br>	<h3>Windows</h3> 
<p><img src="images/mingw_img.jpg" alt="" style="float: right; width: 40%; margin-left: 1%">
						Unfortunately Windows does not come with a C++ compiler so we will need to download some extra tools. We will be downloading MinGW which comes with a compiler, debugger, and a make utility, which we need to build this project. 
						
						<ol>
								<h4>Setting up MinGW</h4>
							<li>Download it at <a href="https://sourceforge.net/projects/mingw-w64/" target="_blank">this link</a>. After it downloads double click on the installer which should say something like "mingw-w64-install.exe" (check your downloads folder if it doesn't pop up and double click it like before). 
							</li> </br>
							<li>Click next through the installer setup and when you get to the <b>"Installation folder"</b> section as shown to the right, change the path to C:\MinGW. Continue through the rest of the setup and wait for it to install.
								</li>
							</br><li>Next we need to add the MinGW "bin" folder's path to our PATH variable so that we can access the tools from any directory. 
								<i><br></br><a href="https://john-dugan.com/path-variable-in-windows/" target="_blank"> What is the PATH variable?</a> </br>Note: "path" vs "path variable". "path" typically refers to a location in a file system like "C:\Users\userOne\Documents\file.txt"</i><br></br>Follow these five steps which each reference the five images below. 
								<ol>
									<li>
										search environment in the windows search bar and select "Edit the system environment variables"
									</li>
									<li>
											Click the "Environment Variables" button
									</li>
									<li>
												Then click the "path" row under "System Variables" and click the "edit" button
									</li>
									<li>
											Finally click the "New" button and type "C:\MinGW\mingw32\bin". Then click "ok" on all the open tabs.
									</li>
									<li>To test if you configured the PATH variable correctly, open the command prompt (search cmd in the windows search bar) and type "g++". You should get something like: "g++: fatal error: no input files compilation terminated."</li>
								</ol>
							</li>
						</ol>
						<div class="row">
								<div class="column">
								  <img src="images/env1.jpg" alt="" style="float: left; width: 50%; margin-right: 1%;margin-bottom: 3%;">
								  <img src="images/env2.jpg" alt="" style="float: left; width: 50%; margin-right: 1%;margin-bottom: 3%;">
								  <img src="images/env3.jpg" alt="" style="float: left; width: 50%; margin-right: 1%;margin-bottom: 3%;">	
								  <img src="images/env4.jpg" alt="" style="float: left; width: 50%; margin-right: 1%;margin-bottom: 3%;">
								  <img src="images/env5.jpg" alt="" style="float: left; width: 50%; margin-right: 1%;margin-bottom: 3%;">
								</div>
						</div>
						<h4>Setting up Visual Studio Code with g++ (still windows)</h4>
						  Now we need to configure Visual Studio Code with the C++ compiler g++ that comes with MinGW by editing a properties file. However, first we must create and open a folder where we want these 
						 configuration settings to take effect.
						 <ul>
							 <li>create a new folder on your computer, then in VS Code go to File->Open Folder and open that folder</li>
							 <li>Now go to the Command pallete by clicking View -> Command Pallette or CTRL + SHIFT + P.</li>
							 <li>In the search bar type C++ and click the "Edit Configurations (UI)" option. A new tab will open called C/C++ Configurations.</li>
							 <li>Scroll down to the "Compiler Path" section and type "C:/MinGW/mingw32/bin/g++" in with the quotes.</li>
							 <li>Under intelliSense mode choose "gcc-x64".</li>
							 <img src="images/config_img.jpg" alt="" style="float: left; width: 100%; margin-right: 1%;">
						 </ul>
						 
						 <h4>Testing if C++ works with Visual Studio Code on Windows</h4>
						  Our environment is finally setup for C++ so let's check it to make sure it works.
						 <ul>
							 <li>Go to File -> New File. Save with CTRL + S and it will prompt you to name it, save as test.cpp</li>
							 <li>Copy and paste the following code: 
<pre><code>#include &ltiostream&gt
using namespace std;

int main()
{
	cout << "If this prints then you have set up C++ correctly!";
	return 0;
}
</pre></code></li>
							 <li>Go to Terminal -> New Terminal, press enter, and type the following commands:
<pre><code>g++ -o test test.cpp
.\test
</pre></code>
This image is what it should look like. If you get an error and can't figure it out please email me or come to my office hour.
<div class="row">
		<div class="column">
				<img src="images/test_img.jpg" alt="" style="float: left; width: 100%; margin-right: 1%;">
		</div>
</div>

							 </li>
</ul>
<center>
</br>	<a href="#Next">Next Step</a>
		&nbsp;|&nbsp;
</center><hr>


</p>
<a name="Mac"></a>
<h3>MAC</h3>	
<p>Fortunately, setting up C++ to compile on a Mac is much easier than Windows because Mac has an easy way to install "command line developer tools" which will provide us with utilities like clang (C++ compiler) and Make.
		<h4>Downloading command line developer tools on Mac</h4>
		<ol>
				<li>
					open the search by using Command + Space. Type in "Terminal" and press enter to open it up
				</li>
				<li>
						In the terminal install the Command line tools with the command "xcode-select --install" Make sure you only install the tools and NOT xcode.
				</li>
				<li>
						Now type clang and make sure you get something like "$ clang: error: no input files"
				</li>
			</ol>

			<h4>Configuring Visual Studio Code with g++</h4>
		<ol>
				<li>
					First we need to set up Visual Studio Code to open from the command line. In VS code use CTRL + SHIFT + P to open up the command pallete or go to View -> Command Pallete
				</li>
				<li>
						Now type Shell and select "Shell Command: Install 'code' command in PATH." After it installs close VS code.
				</li>
				<li>
							Now open up the terminal if you closed it and type "mkdir testFolder" to make a new folder. Enter that folder by typing "cd testFolder". Finally type "Code ." to open up this folder in VS Code.
				</li>
				<li>
						Open the command pallette like before and type C++ and select  "Edit Configurations (UI)". A new tab called C/C++ Configurations will open up. In this tab scroll down to "compiler path" and paste "/usr/bin/clang". Also make sure intellisense is "clang-x64" as shown.
						<img src="images/macConfig.png" alt="" style="float: left; width: 100%; margin-right: 1%;">
			</li>
			<li>C++ is finally configured! Now let's test to make sure it works.</li>
			</ol>
			<h4>Testing C++ on MAC</h4>
			Go to File -> New File. Save with CTRL + S and it will prompt you to name it, save as test.cpp</li>
							 <li>Copy and paste the following code: 
<pre><code>#include &ltiostream&gt
using namespace std;

int main()
{
	cout << "If this prints then you have set up C++ correctly!";
	return 0;
}
</pre></code></li>
							 <li>Go to Terminal -> New Terminal, press enter, and type the following commands:
<pre><code>g++ -o test test.cpp
./test
</pre></code>
This image is what it should look like. If you get an error and can't figure it out please email me or come to my office hour.
<div class="row">
		<div class="column">
				<img src="images/macTest.jpg" alt="" style="float: left; width: 100%; margin-right: 1%;">
		</div>
</div>
</p>
<hr>
<p>
		<a name="Next"></a>	 
	<h4>4. Managing a new project using Git and linking to the SDL2 library</h4>
	
	Now that we have our code editor working with C++ we can start a project. When creating mid to large size
	programming projects with multiple files, we want to manage our code with a tool called Git and save our code online using
	a site called Github.<br></br>
	<ul>
		<li><b>Git</b> is known as a version control system and it is used to manage software in a container called a repository.
			For example, say you make some changes to working code and break it. Using Git, you can see
			every change and undo them if necessary. More on this later.
		</li>
		<li>
			<b>Github</b> on the other hand is a service to store and manage your Git repositories online.
		</li>
	</ul>  <a href="https://betterexplained.com/articles/a-visual-guide-to-version-control/" target="_blank">What is version control?</a>    <a href="https://blog.devmountain.com/git-vs-github-whats-the-difference/" target="_blank">Git vs GitHub</a>

	<br></br></br>I have created a repository (basically a directory to store a project) on github with some base code which we will build off of. This base code includes build tasks,
the SDL2 library, and a small set of classes I created to help create a simple menu system. What we will be doing is copying the base code into a local directory
on your computer and start from there. <br></br>
<ol>
	<li>
		first download git if you don't have it already <a href="https://git-scm.com/downloads" target="_blank">from this link.</a> In the installation 
		wizard just click next through all the steps and install it.
	</li>
	<li>
		next, create an account on github if you don't have one already <a href="https://github.com/" target="_blank">from this link</a>
	</li>
	<li> The next thing we need to do is configure git with our information. Type these commands into the command prompt (terminal) with your name and email. 
	</br> git config --global user.name "firstName lastName"</br>
		  git config --global user.email "email@website.com"
		
	</li>
	<li>
		Now that git is configured let's copy the base code to your local computer from github. Open the command prompt (terminal)
		and navigate to a location where you want to save your project. This may be documents, desktop, or anywhere else you
		want. Once in the location you want type this command:
	<ul>
		<li>
			<b>Windows: </b> "git clone https://github.com/geffencooper/ArcadeSystem_windows.git"
		</li>
		<li>
			<b>Mac: </b> "git clone https://github.com/geffencooper/ArcadeSystem_mac.git"
		</li>
		
	</ul> 

	<li>
		Now type "cd ArcadeSystem_windows" or "cd ArcadeSystem_mac", and then type "dir" if on Windows and "ls" if on Mac.
		You should see the following folders: <b>GUI_files, SDL_files, source </b>
	</li>
	</li>
	<li>
		<b>Mac</b>: If you are on Mac there is an extra step. Copy and paste the following commands ONE AT A TIME in your current directory
		which should be in the ArcadeSystem_mac folder.

		<pre><code>
			cd SDL_files
			/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
			brew install SDL2 SDl2_image SDL2_ttf SDl2_mixer
			cp -R /usr/local/Cellar/sdl2/2.0.10/include/SDL2/ include/
			cp -R /usr/local/Cellar/sdl2/2.0.10/lib/ lib/
			cp -R /usr/local/Cellar/sdl2_image/2.0.5/include/SDL2/ include/
			cp -R /usr/local/Cellar/sdl2_image/2.0.5/lib/ lib/
			cp -R /usr/local/Cellar/sdl2_ttf/2.0.15/include/SDL2/ include/
			cp -R /usr/local/Cellar/sdl2_ttf/2.0.15/lib/ lib/
			cp -R /usr/local/Cellar/sdl2_mixer/2.0.4/include/SDL2/ include/
			cp -R /usr/local/Cellar/sdl2_mixer/2.0.4/lib/ lib/
		</code></pre>
	</li>

</ol>
</p>

<h4>5. Testing to see if SDL2 works</h4>
<ol>
	<li>
		Open up Visual Studio code and go to File->Open Folder and open the according folder, "ArcadeSystem_windows" or "ArcadeSystem_mac"
	</li>
	<li>
		Now use "CTRL (CMND on Mac) + SHIFT + B" to bring up a build task drop down. It should look like the following picture
		<img src="images/build.jpg" alt="" style="float: left; width: 100%; margin-right: 1%;">
	</li>
	<li>
		select "build all". Then type "CTRL (CMND on Mac) + SHIFT + B" and select "run ArcadeSystem"
	</li>
	<li>
		you should get a blank window that says ArcadeSystem at the top as shown
		<img src="images/output.jpg" alt="" style="float: left; width: 100%; margin-right: 1%;">
	</li>
	<li>
		That's it!
	</li>
</ol>
<p>
	<hr>
	<h4>Congradulations! You finished the environment setup. This is one of the more difficult and frustrating parts of building
	software projects so don't get discouraged, the rest of the project is much more fun. </h4>
	
</p>

<a name="Lesson1"></a>
<p>
</br><hr><h2>Lesson 1: Introducing the Menu System/Designing a GUI</h2> 
Before getting into the design, watch this video for a demo of what the Arcade System will look like.
<video width="400" controls>
	<source src="demo.mp4" type="video/mp4">
	Your browser does not support HTML5 video.
</video>
</p>
<p>
	<h4>Intro</h4>
	For this project, the goal is to provide you with something which you can expand on so we will be building 
	a "base" version of the Arcade System with a simple menu system, one game (brick breaker), and some music. At the end,
	you will have the knowledge and opportunity to customize your Arcade by building your own games and adding your own images and music.
</p>

<p>
	<img src="images/mainMenu_img.jpg" alt="" style="float: right; width: 40%; margin-left: 1%"><h4>Designing a GUI </h4> <a href="https://www.computerhope.com/jargon/g/gui.htm" target = "blank"> What is a GUI</a></br>
	A GUI is a "Graphical User Interface" and is the way we interact with a program. We will go through the steps of designing a simple GUI that will be used to interact with our
arcade system. However, due to time constraints we will not be programming this GUI from scratch. Instead we will just implement some files that I created
to help program the GUI.</br></br>
This image here on the right shows a visual of the GUI we will be making.	
</p>

<p>
</br></br>
	<h4>High Level Design</h4><img src="images/vision.jpg" alt="" style="float: right; width: 40%; margin-left: 1%">
	How do we go about desiging a menu system from scratch? </br></br>
	<ol>
		<li>	
				When building a multi file project, you don't want to start coding right away or you will end up with a bunch of messy code with no organization.
		</br></br>The first step is to start with the high level logic and design. Start with a sketch or diagram of 
		what you want your program to look like or how it might work. This image on the right is one of the early diagrams I made and represents a vision of what I wanted the arcade system to look like.
		</li></br>
		<li><img src="images/general.jpg" alt="" style="float: right; width: 40%; margin-left: 1%">
			The next step is to take the specific image or vision and generalize it a bit and break it down into components
			so that we can begin thinking in more of a programmatic way which makes the transition from design to implementation more fluid. Essentially,
			we want to take our design and consider how we can create some structure from it.
		</br></br> Consider this generalized diagram on the right. What does it resemble? It resembles
		a tree-like structure right. Now using this more generic diagram let's think about the structure of a tree. A tree starts with what we call the "root" and expands
		out into what we call "Nodes." Nodes are basically discrete points that hold data and are linked together to form the tree. Each box in the diagram is a node.
		
	</ol>
	<h4>Being more explicit with our design</h4>
	</li></br>
		<img src="images/hierarchy.jpg" alt="" style="float: right; width: 40%; margin-left: 1%">
		The next step is to get more explicit with our tree structure and start to define some rules and attributes.
		In our tree structure we will define something called the Node->Screen->Button hierarchy which basically are
		the three tiers of our menu system.
		<ul>
			<li>
				<b>Node</b>: The node represents an organizational unit in our menu system and does not really do anything more. Its role will become more clear but in general we
				can say that a node is a collection of screens.
			</li>
			<li>
					<b>Screen</b>: The screen represents the guts of the node and is where all the action happens. The top level user will be unaware of the nodes and will
					only interact with the screens. The screen also holds a list of buttons.
			</li>
			<li>
					<b>Button</b>: The button is what facilitates movement through the tree and is what actually links screens to screens and nodes to nodes.
			</li>
			<li>
				<b>parent-child relationship of nodes</b>: We also need to define the connections between nodes. In this tree we are going
				to keep things simple and say that every "parent" node can have multiple "child" nodes, but every "child" node can only
				have one parent. Basically, every node can branch out into multiple nodes, but each node can only link to one node above itself. This way
				we avoid having loops in our tree.
			</li>
		</ul>
		This picture below shows this hierarchy in action. We have a tree made up of nodes (grey and yellow boxes), which hold screens (blue boxes), which are linked using buttons (green and red lines)
		and all the nodes follow the parent-child relationship we defined.
		<img src="images/tree.jpg" style="float: right; width: 100%; margin-left: 1%; margin-bottom:5%">
</p>
<p>
		<h4> Transitioning from design to implementation</h4>
		So now that we have a good idea of how our menu system is designed, let's go into the details of implementation because 
		this design needs to be described in code. So how do we do that? How do we take these attributes and rules that we used to describe our tree
		structure and make them into code? 
</br></br> <b>We use classes and create objects</b>
<br> We have already categorized our design into distinct parts that we can visualize (Node, Screen, Button) and described them. Now we can take all the attributes
and behaviors we associated with these parts and bundle them up into units which we call objects.
</br></br> For a quick intro about classes and objects in C++ click <a href="https://www.programiz.com/cpp-programming/object-class" target = "blank">this link</a>
</br></br>
<img src="images/classes.png" style="float: right; width: 50%; margin-left: 1%; margin-bottom:5%">For example, if we want to do something in our tree like move screens or play music how do we do that? We use the buttons. We can bundle up a set of attributes and behaviors associated with actions into a button object.
<ul>
	<li>
			In addition, we can bundle up the set of attributes and behaviors associated with the structure of our tree into screen and node objects
			
			
	</li>
	<li>
			So essentially in C++, an object is a unit that bundles up a set of attributes and behaviors. It is also helpful to think about objects in C++ as real life objects, so for example take a look at these classes to the right which are blueprints to define objects.
	</li>
	<li>
			Note how I described objects in two different ways
			<ol>
				<li>
						We can take a real life object and describe its behaviors and attributes so that we can implement it as a construct in our program
				</li>
				<li>
						Or we can take some high level abstract design and split it up into bundles of behaviors and attributes and form objects
						These are just two ways you can think about objects
				</li>
			</ol>
			
	</li>
</ul>
<h4> Defining the Node, Screen, and Button Classes</h4>
<p>
	I highly reccomend looking through "Button.h", "Screen.h", and "Node.h" in the GUI_files->headers folder inside our project folder. These files define
	a generic Button, Screen, and Node class. In summary:
</br> 
<ul>
	<li>
		<b>Button Attributes: </b> width, height, x position, y position
	</br>
	<b>Button Methods: </b> Accessors, mutators, update, render </br>
	<a href="https://oop.tech-academy.co.uk/accessors-mutators/" target="blank">What are accessors and mutators</a>
	</li>
	<li>
			<b>Screen Attributes: </b> list of ArcadeTexture objects
		</br>
		<b>Screen Methods: </b> Accessors, mutators, update, render </br>
		</li>
		<li>
				<b>Node Attributes: </b> currentScreen object, list of screen objects, parent node object, renderer object
			</br>
			<b>Node Methods: </b> Accessors, mutators, update, render </br>
			</li>
</ul>
You are probably wondering what an Arcade Texture object is and what update and render do. I will get into that below.
</br>But before I do it is important to note how "generic" these classes are and by that I mean I only defined the most basic 
and general attributes and methods that a button, screen, or node should have without getting too specific. </br>
<h4>Inheritance</h4>This gives us the 
flexibility to create different types of buttons or screens or nodes that share the same general attributes but behave in a specific way through
<b>inheritance</b>. For a good explanation of inheritance in C++ read <a href="https://www.geeksforgeeks.org/inheritance-in-c/" target = "blank">this article</a>
</br></br> So what I have done is inherited from the button class to create two different buttons (SimpleButton and OptionsButton) and inherited
from the screen class to create two different screens (MenuScreen and GameScreen). You can see these in the GUI_files->headers folder.
</br></br>
<h4> Understanding the GUI loop</h4>
So before we can start using the button, screen, and node objects to build our menu system we first have to understand how a GUI loop works.
A GUI loop is just a series of three steps that our program follows:
<ol>
	<li>
		<b>Handle Input</b>: First we want our GUI to track any user events such as mouse movement or keystrokes. We want our
		menu system to be able to react to these events accordingly
	</li>
	<li>
			<b>Update</b>: Next we need our GUI to update the states or values of certain variables based on te user input. For example, if the user move their mouse over a button we want to update
			the state of that button to "selected."
	</li>
	<li>
			<b>Render</b>: Rendering just means painting to the screen. So for example, our button state was updated to selected so now when we render
			that button it will be rendered with some opacity to show that it is selcted.
	</li>
</ol>
This loop repeats over and over again 60 times per second for the entirety of our program.

To understand how this loop works in the context of our program take a look at this simplified main function which is where every C++ program begins.
<pre><code>
		int main(int argc, char* argv[])
		{   
			// initialize resources we need like the window
			if (!init())
			{
				printf("Failed to initialize!\n");
			}
			// if initializes successfully then continue
			else
			{
				// we want to run the gui loop until the user quits
				bool quit = false;

				// here we create the first node for our menu system
				RootNode currentNode(arcadeSystemRenderer, nullptr);

				// ---------------THE GUI LOOP
				while (!quit)
				{   
					// handle all user events until there are none left
					SDL_Event e;
					while (SDL_PollEvent(&e) != 0)
					{
						// update the current node 
						currentNode.update(&e);

						// user requests quit by clicking window X
						if (e.type == SDL_QUIT)
						{
							quit = true;
						}
					}
					currentNode.update(nullptr);
					// render the current node
					currentNode.render(arcadeSystemRenderer);
					SDL_RenderPresent(arcadeSystemRenderer);
				}
			}
		
</code></pre>

<p>
	The GUI works like this
	<ol>
		<li>
			Before going into the loop, create the first node in the menu system.
			We hold it in a variable called currentNode because we only care about updating and rendering
			the current node. There is no point in updating and rendering the other nodes if we aren't using them.
		</li>
		<li>
			Now we enter the loop and run it until the user wants to quit
		</li>
		<li>
			Next we check for user events and pass them to the current node until there are no events left.
			When we update the currentNode it will call update for the currentSceen (again we only care about the current screen) which will
			check if a button is selected or not.
		</li>
		<li>
			If there are no events we still want to update the current node but just pass in no event
		</li>
		<li>
			Finally we render the node to the screen. Node will render the current screen, which will render all its ArcadeTexture objects and all its buttons.
		</li>
	</ol>

	An ArcadeTexture object is basically just an image or text that we want to put on the screen. I made a class called ArcadeTexture to simplify
	the process of doing this.

	<h4>conclusion</h4>
	That was a lot of information so don't worry if a lot of it didn't make sense. Next class we will be going over
	how to actually use these objects to create a menu system. </br></br><b>One important concept to remember is abstraction, it is not
	critical to understand how button, screen, and node work under the hood but rather it is important to know how to use them because at the end 
	of the day we just want to build the menu system. For example, its good to understand how a car generally works but you don't need to understand
all the details of how it works under the hood in order to use it. In this case I have implemented the GUI classes for you and abstracted all the details away by
providing a set of methods (we will learn these next class) for you to use to build a menu.</b>
</p>
</p>
</p>

<hr>

<a name="Lesson2"></a>
<p>
	<h2>Lesson 2: Using Git and implementing the menu system</h2>
	<h4>Exploring the project directory</h4>
	<p>
		Before we start coding let's take a look at our project directory which we copied from github in lesson 0.
		<img src="images/directory.png" style="float: right; width: 50%; margin-left: 1%; margin-bottom:1%">
		This image on the right shows what our project directory (also our git repository) looks like.
		<ul>
			<li>
				<b>.git</b>: This folder signfies that "ArcadeSystem_windows" is a git repository so any changes made will be identified by git. <b>We won't open or change this folder directly</b>. 
			<br></br>
			</li>
			<li>
				<b>.vscode</b>: This folder stores configuration settings. It has files that specify things like the compiler path, include paths, build tasks, debugger settings. 
				The "build arcadeSystem" task we call to compile our code is defined here.
				<b> We won't open or change this folder</b>.<br></br>
			</li>
			<li>
				<b>GUI_files</b>: This folder has all the classes and files necessary to build the menu system. The Node, Screen, and Button classes can be found in "GUI_files->headers"
				if you are curious. 
				We will be using these files and possibly opening them but <b> we will not change them</b>.<br></br>
			</li>
			<li>
				<b>SDL_files</b>: This folder has files we need from the SDL2 library. These files are basically just a bunch of functions we can use to do things like detect keystrokes or put images on the screen.
				 <b> We will not change or open this folder</b>.<br></br>
			</li>
			<li>
				<b>source</b>: This folder is where all our resources (images and fonts) and source code (the C++ files we will make) for our project are located.
			This is really the only folder you need to interact with. You can think of all the other folders as tools we need to help us build our project and
		this source folder is where all the action happens and where the tools are used.</b><br></br>
			</li>
		</ul>
	</p>

	<h4> Using Git</h4>
	<p>
		Next we need to learn a little bit about git. If you remember from lesson 0 and read the articles,
		git is a version control system (basically a tool that helps us manage our code). We will be using it
		to track our code and also to publish it to a remote repository on your github account. You can think of github as a powerful version of google drive that is specifically for software.

		<h5>Seeing git in action</h5>
		<p>
			To understand what git does, it is useful to see it in action. These three images below show a succession of events.
			 <br></br>
			 <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. Start with some code &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 2. Change or add to the code </b>
			 <div class="column">
				<img src="images/git1.png" alt="" style="float: left; width: 49%; margin-right: 1%;">
				<img src="images/git2.png" alt="" style="float: left; width: 49%; margin-right: 1%;margin-bottom: 3%;">									</div>
			  <div class="column">
				  
			</ol>
			<p>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>3. Seeing the changes identified by git (left side is visual git interfce, right side is git command line interface)</b>
			</p>
			<img src="images/git3.png" alt="" style="float: left; width: 49%; margin-right: 1%; margin-bottom: 0%;">
			<img src="images/git3cl.png" alt="" style="float: right; width: 49%; margin-right: 1%; margin-bottom: 1%;">
		</p>
		What we are seeing in the images in part three is git recognizing Main.cpp has been changed. You can interact with git through a visual interface or
		a command line interface. In the command line interface we use the commands <b> git status</b> to check the current state of our repository and <b>git diff</b> to see what we changed.
		<br></br><br></br>
		Now that we have an idea of what git does, let's learn how it works and how to use it. Currently our files are part of a <b>git repository</b>. A repository is 
		just a storage space where a project sits in. What makes it a git repository is that we have the <b>.git</b> folder which tracks all our changes and builds 
		a history of our project that we can easily access and interact with.
		<br></br>
		Files in our project directory can be in different states: <b>untracked, modified, staged, and committed</b>.
		<br></br>
		<ul>
			<li>
					<img src="images/untracked.png" alt="" style="float: right; width: 50%; margin-right: 1%; margin-bottom: 3%;">
				<b>Untracked:</b> files that are in our directory but are not tracked by the git repository.
				<b>Note:</b> just because a file is in a directory with a .git folder does not mean it is tracked. For example, I created a new file
				called test.cpp in the project directory. When I run the command <b>git status</b> it tells me the file is untracked. To start tracking it I use <b>git add <i>file</i></b>
			</li><br></br>
			<li>
					<img src="images/modified.png" alt="" style="float: right; width: 50%; margin-right: 1%; margin-bottom: 0%;">
					<b>Modified:</b> files that are being <b>tracked</b> by the git repository and have changed since the last time we "commited" (saved our changes) or since tracking them by adding them to the git repo.
					<br></br>
					What we see in this image are two things. 
					<ol>
						<li> We start tracking test.cpp by adding it to the git repo with <b>git add</b>.
						This is seen by <b>git status</b> showing "new file". On the left we have it in "staged changes" which
						shows any changes that we "added" to the git repo.
						</b></li>.
						<li>
							We modify test.cpp by typing a comment. When we view "Changes" in the left we see the before and after at the top. <b>git status</b>
							shows the first change (adding test.cpp to the directory) is "added" and ready to be "committed" (saved) but the second change (modifying test.cpp with a comment)
							has not been "added" and is not ready to be committed (saved). Changes that we want to keep must be "added" with <b>git add</b>. A change
							that is "added" is ready to be commited (saved) but is not saved yet.
						</li>
					</ol>
				</li>
				<li>
					<b>Staged:</b> changes that we make in our directory that we want to eventually "commit" or save. We use the <b>git add <i>file</i></b> command.
					When we uses git status, these "staged" or "added" files that we changed will be green not red meaning 
					that they are ready to be saved.
				</li>
				<img src="images/commit.png" alt="" style="float: right; width: 50%; margin-right: 1%; margin-bottom: 3%;">
				<li>
					<b>Committed:</b> changes that are safely saved and stored in our git repository. This is shown in the image. Every time
					we commit we must put a message with it. A commit is like a checkpoint in our project and signifies a series of changes.
				</li>
		</ul>
		<img src="images/lifecycle.png" alt="" style="float: right; width: 50%; margin-right: 1%; margin-bottom: 1%;">
		The whole process is summed up by this diagram which shows the different states of files. So for "test.cpp" we started as
		<b>untracked</b> when we first added it to the directory. Then it became <b>tracked</b>, <b>unmodified</b>, and <b>staged</b> when
		we used git add. Then it went to modified when we put a comment in the file. At this point the original empty file was staged but the
		comment was not staged so if we committed the file then only the blank file would be saved. Finally, we added the change and committed it which 
		puts it back at the unmodified state.
		<br></br> <br></br> <br></br>
		<b>This may seem confusing as there are nuances between what each of these states really means. Basically all you need to worry about
		is git add and git commit. The visual git interface is very useful if you don't have experience with git or want
	and easy way to see what is going on without needing to use the other git commands. This interface let's you see all the changes you made to each file.</b>
	</p>
	<p>
			<h4>setting up a remote repository</h4>
			Everything we have talked about up until now regarding git has been "locally". By this I mean we have only been using git to track and save changes
			on your local computer, not online or another computer (With exception to lesson 0 when did use git to clone the repo from online). What we will be talking about now
			is how to link your local git repository to a repository online using GitHub.
			<br></br>
			In git, remote repositories are versions of our project that are hosted somewhere else, in this case on GitHub. Because we cloned our repo from my GitHub, we automatically
			have this as one of our remote repos. By default this remote repo is called "origin". We will add another remote repo from your Github so you 
			can not only save your changes online but also copy changes from my repo if necessary.
			
			<ol>
				<div class="row">
						<img src="images/create.png" alt="" style="float: right; width: 20%; margin-right: 1%; margin-bottom: 1%;">
						<img src="images/create2.png" alt="" style="float: right; width: 30%; margin-right: 1%; margin-bottom: 1%;">
						<img src="images/create3.png"  style="float: right; width: 40%; margin-right: 1%; margin-bottom: 1%;">
				</div>
					<li>
					First, we need make a new repository on github. Login to your github account online and click the + symbol in the top right and then "new repository." Name your repository
					whatever you want like yourNameArcade and click "create repository." In the next window select HTTPS and copy the url. Look at the three images above as a reference.
				</li>
								<li>Next, we want to change the name of our current remote repo from "origin" to "upstream" so that we know it is the original source.
						<br>In visual studio code, open the terminal and type: <code>git remote rename origin upstream</code>
				</li>
				<li>
					Now we need to add a remote repo called origin and link it to the repo we just created in github. In the same terminal session
					type this command <code>git add remote origin <i>URL to your repo</i></code> example URL: https://github.com/geffencooper/geffenArcade.git
				</li>
				<li>
					Finally, we want to "push" or send our current git repository with all our files to this remote repo. In the same terminal window type:
					<code>git push origin master</code>. <b>To check that it worked, go to your github and refresh the page, it should have our project in there.</b>
				</li>
				<li>
					the image below shows the steps. When I type <code>git remote -v</code> it prints out the urls of each
					remote repo. You can do this as a check to make sure the upstream is my repo and origin is your repo.
				</li>
				<img src="images/remote.png"  style="float: right; width: 100%; margin-right: 1%; margin-top: 1%;">

			</ol>
			<h3>That's it for git we can now start coding. This setup can be confusing if it is your first time so please do not hesitate to email me with questions at any time. Please
				also come to my office hour if you need help.
			</h3>
	</p>
	<hr>
	<h3>implementing the menu system</h3>
	Before we do anything, I added a new build task to make things easier. To get this new build task, go to the terminal in 
visual studio code as we have done before and type <code>git pull upstream master</code>
	<br></br>
	I am going to go through a basic example of how to use the methods and classes I provided. For the full code for the menu system 
	I made a repo on GitHub and have the link at the bottom of this lesson. The repo has a ReadMe with information on how to use and set up the code.
	<br></br>
	<img src="images/rootNode.png"  style="float: right; width: 50%; margin-right: 1%; margin-top: 1%;">
	<h4>Step 1: Creating a new node</h4>
	The first step to implementing the menu system is creating a new node. If you recall our menu system is a tree of nodes.
	To do this create a new file called "RootNode.h" in the source directory of the project. Do this by right-clicking source and 
	then clicking new file as sown in the image.

	<br></br>	<br></br>
	<h5>This is the code for a basic rootNode that flips between two screens when you click a button.</h5>
	Copy-paste this into your RootNode.h. Also, below this is code you need for "Main.cpp". I will dissect the code in detail below.
	
	<p>
		<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// RootNode </span>
 
<span style="color: #408080; font-style: italic">// include the files we need</span>
<span style="color: #BC7A00">#include &quot;Node.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
<span style="color: #BC7A00">#include &quot;MenuScreen.h&quot; </span>
<span style="color: #BC7A00">#include &quot;SimpleButton.h&quot; </span>
 
<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">RootNode</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Node <span style="color: #408080; font-style: italic">// publicly inherits from Node</span>
{
<span style="color: #A0A000">public:</span>
    <span style="color: #408080; font-style: italic">// Constructor                                            // initializer list</span>
    RootNode(SDL_Renderer<span style="color: #666666">*</span> renderer_in, Node<span style="color: #666666">*</span> parentNode_in)<span style="color: #666666">:</span> Node(renderer_in, parentNode_in)
    {
 
        <span style="color: #408080; font-style: italic">// first create screens for the node</span>
        MenuScreen<span style="color: #666666">*</span> screen1 <span style="color: #666666">=</span> createMenuScreen();
        MenuScreen<span style="color: #666666">*</span> screen2 <span style="color: #666666">=</span> createMenuScreen();
 
        <span style="color: #408080; font-style: italic">// create images and text to put on the screen using an ArcadeTexture object</span>
        ArcadeTexture<span style="color: #666666">*</span> screen1Background <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;rootNodeImages/rootNodeScreenBackground.png&quot;</span>, <span style="color: #008000">true</span>);
        ArcadeTexture<span style="color: #666666">*</span> screen2Background <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;rootNodeImages/rootNodeScreenBackground.png&quot;</span>, <span style="color: #008000">true</span>);

        ArcadeTexture<span style="color: #666666">*</span> screen1Text <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;screen 1&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
        screen1Text<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> screen1Text<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);

        ArcadeTexture<span style="color: #666666">*</span> screen2Text <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;screen 2&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
        screen2Text<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> screen2Text<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);

        <span style="color: #408080; font-style: italic">// add the images and text to the screen after creating them</span>
        screen1<span style="color: #666666">-&gt;</span>addTextureToScreen(screen1Background);
        screen1<span style="color: #666666">-&gt;</span>addTextureToScreen(screen1Text);

        screen2<span style="color: #666666">-&gt;</span>addTextureToScreen(screen2Background);
        screen2<span style="color: #666666">-&gt;</span>addTextureToScreen(screen2Text);
 
        <span style="color: #408080; font-style: italic">// make a text button to put on the screen1</span>
        SimpleButton<span style="color: #666666">*</span> button1 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;gotoscreen2&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
        button1<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> button1<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, screen1Text<span style="color: #666666">-&gt;</span>getY() <span style="color: #666666">+</span> screen1Text<span style="color: #666666">-&gt;</span>getH() <span style="color: #666666">+</span> <span style="color: #666666">50</span>);

        <span style="color: #408080; font-style: italic">// give this button an action</span>
        button1<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, screen2));
       
        <span style="color: #408080; font-style: italic">// make a text button to put on the screen2</span>
        SimpleButton<span style="color: #666666">*</span> button2 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;gotoscreen1&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
        button2<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> button2<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, screen2Text<span style="color: #666666">-&gt;</span>getY() <span style="color: #666666">+</span> screen2Text<span style="color: #666666">-&gt;</span>getH() <span style="color: #666666">+</span> <span style="color: #666666">50</span>);
       
        <span style="color: #408080; font-style: italic">// give this button an action       </span>
        button2<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, screen1));

        <span style="color: #408080; font-style: italic">// add the buttons to their screens</span>
        screen1<span style="color: #666666">-&gt;</span>addButtonToScreen(button1);
        screen2<span style="color: #666666">-&gt;</span>addButtonToScreen(button2);
 
        <span style="color: #408080; font-style: italic">// add the screens to the node</span>
        <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(screen1);
        <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(screen2);

        <span style="color: #408080; font-style: italic">// tell the node the current screen</span>
        <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>setCurrentScreen(screen1);
    }
};
</pre></div>

<p>
	<h5>Code for Main.cpp. Copy-paste this into your Main.cpp.</h5> Then type CTRL (CMDN on Mac) + SHIFT + B and run these tasks: "build arcadeSystem" then "run arcadeSystem".
			<b>Note:</b> There might be some red squiggly lines saying your code has errors, try running the tasks anyways because VS code can be a bit delayed and not recognize some references.
			If you change the code and want to recompile it run the tasks "recompile arcadeSystem" then "run arcadeSystem".
			<br></br>
			<b>IMPORTANT: </b>Once you copy these files to your project and get them working, we need to add, commit, and push them with
			git so that you can have a working version saved. This way when you make changes and additions you will be able to see and go back to the working
			version when it breaks. See the picture at the bottom for how to do this.
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// main.cpp</span>
<span style="color: #BC7A00">#include &quot;SDL.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_mixer.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_ttf.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_image.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
<span style="color: #BC7A00">#include &lt;stdio.h&gt;</span>
<span style="color: #BC7A00">#include &quot;RootNode.h&quot;</span>

<span style="color: #408080; font-style: italic">// declaring pointer to objects that main needs, initialize to null</span>
<span style="color: #408080; font-style: italic">// these objects are created in main because they are needed for the outermost loop</span>
SDL_Window<span style="color: #666666">*</span> arcadeSystemWindow <span style="color: #666666">=</span> nullptr;
SDL_Renderer<span style="color: #666666">*</span> arcadeSystemRenderer <span style="color: #666666">=</span> nullptr;
TTF_Font<span style="color: #666666">*</span> font <span style="color: #666666">=</span> nullptr;

<span style="color: #408080; font-style: italic">// initialization function, initializes above objects and calls some SDL initialization functions</span>
<span style="color: #B00040">bool</span> <span style="color: #0000FF">init</span>()
{
	<span style="color: #408080; font-style: italic">// Initialization flag</span>
	<span style="color: #B00040">bool</span> success <span style="color: #666666">=</span> <span style="color: #008000">true</span>;

	<span style="color: #408080; font-style: italic">// Initialize SDL</span>
	<span style="color: #008000; font-weight: bold">if</span> (SDL_Init(SDL_INIT_VIDEO <span style="color: #666666">|</span> SDL_INIT_AUDIO) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
	{
		printf(<span style="color: #BA2121">&quot;SDL could not initialize! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
		success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
	}
	<span style="color: #008000; font-weight: bold">else</span>
	{
		<span style="color: #408080; font-style: italic">// Create window in the center of the screen</span>
		arcadeSystemWindow <span style="color: #666666">=</span> SDL_CreateWindow(<span style="color: #BA2121">&quot;Arcade System&quot;</span>, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, windowWidth, windowHeight, SDL_WINDOW_SHOWN);
		<span style="color: #008000; font-weight: bold">if</span> (arcadeSystemWindow <span style="color: #666666">==</span> <span style="color: #008000">NULL</span>)	
		{
			printf(<span style="color: #BA2121">&quot;Window could not be created! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span>
		{
			<span style="color: #408080; font-style: italic">// initialize renderer, set the background as white for the wwindow, sync the renderer with the monitor refresh rate</span>
			arcadeSystemRenderer <span style="color: #666666">=</span> SDL_CreateRenderer(arcadeSystemWindow, <span style="color: #666666">-1</span>, SDL_RENDERER_ACCELERATED <span style="color: #666666">|</span> SDL_RENDERER_PRESENTVSYNC);
			SDL_SetRenderDrawColor(arcadeSystemRenderer, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>);
		}
		<span style="color: #408080; font-style: italic">// Initialize SDL_mixer</span>
		<span style="color: #008000; font-weight: bold">if</span> (Mix_OpenAudio(<span style="color: #666666">44100</span>, MIX_DEFAULT_FORMAT, <span style="color: #666666">2</span>, <span style="color: #666666">2048</span>) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			printf(<span style="color: #BA2121">&quot;SDL_mixer could not initialize! SDL_mixer Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, Mix_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}
		<span style="color: #408080; font-style: italic">// initialize true type font </span>
		<span style="color: #008000; font-weight: bold">if</span> (TTF_Init() <span style="color: #666666">==</span> <span style="color: #666666">-1</span>)
		{
			printf(<span style="color: #BA2121">&quot;SDL_ttf could not initialize! SDL_ttf Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, TTF_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}

	}
	<span style="color: #008000; font-weight: bold">return</span> success;
}

<span style="color: #B00040">int</span> <span style="color: #0000FF">main</span>(<span style="color: #B00040">int</span> argc, <span style="color: #B00040">char</span><span style="color: #666666">*</span> argv[])
{	
	<span style="color: #408080; font-style: italic">// first call initialization</span>
	<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>init())
	{
		printf(<span style="color: #BA2121">&quot;Failed to initialize!</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
	}
	<span style="color: #408080; font-style: italic">// if initializes successfully then continue</span>
	<span style="color: #008000; font-weight: bold">else</span>
	{
		<span style="color: #B00040">bool</span> quit <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		RootNode currentNode(arcadeSystemRenderer, nullptr);
		<span style="color: #008000; font-weight: bold">while</span> (<span style="color: #666666">!</span>quit)
		{	
			<span style="color: #408080; font-style: italic">// handle events on queue until empty</span>
			SDL_Event e;
			<span style="color: #008000; font-weight: bold">while</span> (SDL_PollEvent(<span style="color: #666666">&amp;</span>e) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)
			{
				currentNode.update(<span style="color: #666666">&amp;</span>e);
				<span style="color: #408080; font-style: italic">// user requests quit by clicking window X</span>
				<span style="color: #008000; font-weight: bold">if</span> (e.type <span style="color: #666666">==</span> SDL_QUIT)
				{
					quit <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
				}
			}
			currentNode.update(nullptr);
			currentNode.render(arcadeSystemRenderer);
			SDL_RenderPresent(arcadeSystemRenderer);
		}
	}
	
	<span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;
}
</pre></div>

<h5>When running you should see this screen and be able to flip to the next screen using the button.</h5>
<div class = "row">
		<img src="images/s1.jpg"  style="float: right; width: 49%; margin-right: 1%; margin-top: 1%; margin-bottom: 2%;">
		<img src="images/s2.jpg"  style="float: right; width: 49%; margin-right: 1%; margin-top: 1%; margin-bottom: 2%;">
</div>

<h4>How to add, commit, and push using git</h4>
Type theses commands when you get your code working.
<code>git add .</code> then <code>git commit -m"working version"</code> then <code>git push origin master</code> You should see these additions in your GitHub account.
<img src="images/useGit.png"  style="float: right; width: 100%; margin-right: 1%; margin-top: 1%; margin-bottom: 2%;">

<h4>Dissecting the code</h4>
<h5>Main.cpp</h5>
All C++ programs start their execution from the method "main()" so let's start from the file Main.cpp
where the function "main" sits.<br></br>
<h5>This is the first chunk of code we see in the file Main.cpp</h5>

	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// main.cpp</span>
<span style="color: #BC7A00">#include &quot;SDL.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_mixer.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_ttf.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_image.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
<span style="color: #BC7A00">#include &lt;stdio.h&gt;</span>
<span style="color: #BC7A00">#include &quot;RootNode.h&quot;</span>
</pre></div>

In C++ "#include" is a special command that basically copy-pastes or "includes" a file into our code. The reason
we need to include these files is so that we can use functions and variables that they contain. If we did not include them,
then we would get errors because otherwise how would we know about these functions and variables? Our program is unaware of them unless
we include these files.<br></br>
<h5>This next chunk of code is an initialization function that we don't have to worry about</h5>
This code just calls some functions that SDL provides us to create a window, a renderer, and make sure that our resources are working.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// declaring pointer to objects that main needs, initialize to null</span>
	<span style="color: #408080; font-style: italic">// these objects are created in main because they are needed for the outermost loop</span>
	SDL_Window<span style="color: #666666">*</span> arcadeSystemWindow <span style="color: #666666">=</span> nullptr;
	SDL_Renderer<span style="color: #666666">*</span> arcadeSystemRenderer <span style="color: #666666">=</span> nullptr;
	TTF_Font<span style="color: #666666">*</span> font <span style="color: #666666">=</span> nullptr;
	
	<span style="color: #408080; font-style: italic">// initialization function, initializes above objects and calls some SDL initialization functions</span>
	<span style="color: #B00040">bool</span> <span style="color: #0000FF">init</span>()
	{
		<span style="color: #408080; font-style: italic">// Initialization flag</span>
		<span style="color: #B00040">bool</span> success <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	
		<span style="color: #408080; font-style: italic">// Initialize SDL</span>
		<span style="color: #008000; font-weight: bold">if</span> (SDL_Init(SDL_INIT_VIDEO <span style="color: #666666">|</span> SDL_INIT_AUDIO) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			printf(<span style="color: #BA2121">&quot;SDL could not initialize! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span>
		{
			<span style="color: #408080; font-style: italic">// Create window in the center of the screen</span>
			arcadeSystemWindow <span style="color: #666666">=</span> SDL_CreateWindow(<span style="color: #BA2121">&quot;Arcade System&quot;</span>, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, windowWidth, windowHeight, SDL_WINDOW_SHOWN);
			<span style="color: #008000; font-weight: bold">if</span> (arcadeSystemWindow <span style="color: #666666">==</span> <span style="color: #008000">NULL</span>)	
			{
				printf(<span style="color: #BA2121">&quot;Window could not be created! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
				success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span>
			{
				<span style="color: #408080; font-style: italic">// initialize renderer, set the background as white for the wwindow, sync the renderer with the monitor refresh rate</span>
				arcadeSystemRenderer <span style="color: #666666">=</span> SDL_CreateRenderer(arcadeSystemWindow, <span style="color: #666666">-1</span>, SDL_RENDERER_ACCELERATED <span style="color: #666666">|</span> SDL_RENDERER_PRESENTVSYNC);
				SDL_SetRenderDrawColor(arcadeSystemRenderer, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>);
			}
			<span style="color: #408080; font-style: italic">// Initialize SDL_mixer</span>
			<span style="color: #008000; font-weight: bold">if</span> (Mix_OpenAudio(<span style="color: #666666">44100</span>, MIX_DEFAULT_FORMAT, <span style="color: #666666">2</span>, <span style="color: #666666">2048</span>) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
			{
				printf(<span style="color: #BA2121">&quot;SDL_mixer could not initialize! SDL_mixer Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, Mix_GetError());
				success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			}
			<span style="color: #408080; font-style: italic">// initialize true type font </span>
			<span style="color: #008000; font-weight: bold">if</span> (TTF_Init() <span style="color: #666666">==</span> <span style="color: #666666">-1</span>)
			{
				printf(<span style="color: #BA2121">&quot;SDL_ttf could not initialize! SDL_ttf Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, TTF_GetError());
				success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			}
	
		}
		<span style="color: #008000; font-weight: bold">return</span> success;
	}
	</pre></div>
	<br></br>
	<h5>This final chunk of code is what we care about and is where all the action happens</h5>
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">int</span> <span style="color: #0000FF">main</span>(<span style="color: #B00040">int</span> argc, <span style="color: #B00040">char</span><span style="color: #666666">*</span> argv[])
{	
	<span style="color: #408080; font-style: italic">// first call initialization</span>
	<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>init())
	{
		printf(<span style="color: #BA2121">&quot;Failed to initialize!</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
	}
	<span style="color: #408080; font-style: italic">// if initializes successfully then continue</span>
	<span style="color: #008000; font-weight: bold">else</span>
	{
		<span style="color: #B00040">bool</span> quit <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		RootNode currentNode(arcadeSystemRenderer, nullptr);
		<span style="color: #008000; font-weight: bold">while</span> (<span style="color: #666666">!</span>quit)
		{	
			<span style="color: #408080; font-style: italic">// handle events on queue until empty</span>
			SDL_Event e;
			<span style="color: #008000; font-weight: bold">while</span> (SDL_PollEvent(<span style="color: #666666">&amp;</span>e) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)
			{
				currentNode.update(<span style="color: #666666">&amp;</span>e);
				<span style="color: #408080; font-style: italic">// user requests quit by clicking window X</span>
				<span style="color: #008000; font-weight: bold">if</span> (e.type <span style="color: #666666">==</span> SDL_QUIT)
				{
					quit <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
				}
			}
			currentNode.update(nullptr);
			currentNode.render(arcadeSystemRenderer);
			SDL_RenderPresent(arcadeSystemRenderer);
		}
	}
	
	<span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;
}
</pre></div>

<br><br>
First we call the initialization function which returns true or false. The "!" is the negation operator and gives us
the opposite of the value to the right of it. So here if the function init() returns false the value becomes true and we enter the if statement.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// first call initialization</span>
	<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>init())
	{
		printf(<span style="color: #BA2121">&quot;Failed to initialize!</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
	}
</pre></div>
<br><br>
If the function returns true then the value becomes false and we skip over the if statement and enter this else statement.
This is our GUI loop. This chunk of code is the essence of our program. Before entering the loop we do two things, 1. create a variable
to store the state of our program (is it running or did we quit) and 2. We create the first node called currentNode.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">else</span>
	{
		<span style="color: #B00040">bool</span> quit <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		RootNode <span style="color: #0000FF">currentNode</span>(arcadeSystemRenderer, nullptr);
		<span style="color: #008000; font-weight: bold">while</span> (<span style="color: #666666">!</span>quit)
		{	
			<span style="color: #408080; font-style: italic">// handle events on queue until empty</span>
			SDL_Event e;
			<span style="color: #008000; font-weight: bold">while</span> (SDL_PollEvent(<span style="color: #666666">&amp;</span>e) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)
			{
				currentNode.update(<span style="color: #666666">&amp;</span>e);
				<span style="color: #408080; font-style: italic">// user requests quit by clicking window X</span>
				<span style="color: #008000; font-weight: bold">if</span> (e.type <span style="color: #666666">==</span> SDL_QUIT)
				{
					quit <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
				}
			}
			currentNode.update(nullptr);
			currentNode.render(arcadeSystemRenderer);
			SDL_RenderPresent(arcadeSystemRenderer);
		}
	}
</pre></div>
Then we say while the value of quit is true (!quit means opposite of false) do the following:
<ol>
	<li>Create an event object to store the latest event that happens</li>
	<li>While events (mouse clicks, keystrokes) are still happening handle those events. We handle an event by 
		passing it to the current node in this case it is the RootNode and telling it to update by calling its update function with the latest event.
		This update function will update the current screen which will check to see if a button is hovered on or clicked on. Next we want to check if the lastest event was to quit (this happens by closing the window).
	</li>
	<li>Once all events are processed we exit the inner while loop. We then call update for the current node again
		so that if no events happen, it will still update (this will be more useful later when we have games).
	</li>
	<li>
		Finally, we render the currentNode which will render the current screen which will render all the images, texts, and buttons it has.
		RenderPresent is the final step and is what actually prints to the screen.
	</li>
</ol>
This series of events runs over and over again about 60 times per second which is about the average refresh rate of your computer's screen.

<br></br>
	<h5>RootNode.h</h5>
	This file is where our menu system is implemented.

	<h5>This first chunk has the same purpose as in Main.cpp, we need these files to build the components of our menu</h5>
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// RootNode </span>
 
<span style="color: #408080; font-style: italic">// include the files we need</span>
<span style="color: #BC7A00">#include &quot;Node.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
<span style="color: #BC7A00">#include &quot;MenuScreen.h&quot; </span>
<span style="color: #BC7A00">#include &quot;SimpleButton.h&quot; </span>
</pre></div>

<br></br>
<h5>This next chunk is how we begin defining a new Node</h5>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">RootNode</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Node <span style="color: #408080; font-style: italic">// publicly inherits from Node</span>
	{
		<span style="color: #A0A000">public:</span>
			<span style="color: #408080; font-style: italic">// Constructor                                            // initializer list</span>
			RootNode(SDL_Renderer<span style="color: #666666">*</span> renderer_in, Node<span style="color: #666666">*</span> parentNode_in)<span style="color: #666666">:</span> Node(renderer_in, parentNode_in)
			{
		</pre></div>
First we create a new class and publicly inherit (this allows us to access all of nodes functions) from the Node class.
Next, we define the public section of our class and create the constructor. The constructor is a special
function that has the same name as our class and no return type. Whenever we create an object of this class the constructor gets called. So
in main when we created the root node with <code>RootNode currentNode(arcadeSystemRenderer, nullptr);</code>, this constructor was called which
will initialize the node. Don't worry about the "initializer list", it is just saying we want to set this node's renderer and parent node to the values passed in.
<h5> Everything inside the curly braces of the constructor will be executed as follows</h5>		
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// first create screens for the node</span>
	MenuScreen<span style="color: #666666">*</span> screen1 <span style="color: #666666">=</span> createMenuScreen();
	MenuScreen<span style="color: #666666">*</span> screen2 <span style="color: #666666">=</span> createMenuScreen();
</pre></div>
First we create two menuScreen objects called "screen1" and "screen2" with the <code>createMenuScreen() function</code>. This function returns what is called a "pointer" to 
the menuScreens. A pointer is just a variable we can use to access these objects. If you want to know more about pointers read <a href = "https://gist.github.com/ericandrewlewis/720c374c29bbafadedc9" target = "blank">this</a>.
If you are curious as to why we are using pointers to the objects instead of the objects themselves first read <a href = "https://www.geeksforgeeks.org/stack-vs-heap-memory-allocation/" target = "blank">this</a>. After
reading about pointers and stack vs heap you should some insight into how our C++ program is stored in memory. The reason I have pointers to objects is because
I am creating these objects on the heap so I can only access them through pointers. The details of why I have these objects on the heap is beyond the scope of this project but 
if you are curious you can ask me through email or my office hour. 

<b>This is a lot of information so don't worry if it is confusing. You mainly need to worry about how to use the methods, not so much why.</b>

<br></br>
<h5>creating images and text to put on the screen</h5>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// create images and text to put on the screen using an ArcadeTexture object</span>
	ArcadeTexture<span style="color: #666666">*</span> screen1Background <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;rootNodeImages/rootNodeScreenBackground.png&quot;</span>, <span style="color: #008000">true</span>);
	ArcadeTexture<span style="color: #666666">*</span> screen2Background <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;rootNodeImages/rootNodeScreenBackground.png&quot;</span>, <span style="color: #008000">true</span>);

	ArcadeTexture<span style="color: #666666">*</span> screen1Text <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;screen 1&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
	screen1Text<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> screen1Text<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);

	ArcadeTexture<span style="color: #666666">*</span> screen2Text <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;screen 2&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
	screen2Text<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> screen2Text<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);
</pre></div>
Next we create two images and two pieces of text we want to put on our screens using the "createImage()" and "createSimpleText()" methods. Any time
you want to create an image or text use these methods as shown and change the parameters to what you want.
The parameters for create image  and createSimpleText are

<br> <code>createSimpleText(<i>renderer</i>, <i>file path to image</i>, <i>true or false if want image to fill the screen</i>)</code>
<br> <code>createImage(<i>renderer</i>, <i>file path to font</i>, <i>font size</i>,<i>text to display</i>, <i>font color R value, G value, B value</i>)</code>
<br></br>
We also need to set the x,y position of the text, the images automatically have their position set because they fill the screen.

<h5>Now we need to add these images and text to the according screen</h5>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// add the images and text to the screen after creating them</span>
	screen1<span style="color: #666666">-&gt;</span>addTextureToScreen(screen1Background);
	screen1<span style="color: #666666">-&gt;</span>addTextureToScreen(screen1Text);

	screen2<span style="color: #666666">-&gt;</span>addTextureToScreen(screen2Background);
	screen2<span style="color: #666666">-&gt;</span>addTextureToScreen(screen2Text);
</pre></div>
<br>
<h5>Next we will create buttons. Buttons are just images or text that have an action associated with them</h5>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// make a text button to put on the screen1</span>
	SimpleButton<span style="color: #666666">*</span> button1 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;gotoscreen2&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
	button1<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> button1<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, screen1Text<span style="color: #666666">-&gt;</span>getY() <span style="color: #666666">+</span> screen1Text<span style="color: #666666">-&gt;</span>getH() <span style="color: #666666">+</span> <span style="color: #666666">50</span>);

	<span style="color: #408080; font-style: italic">// make a text button to put on the screen1</span>
	SimpleButton<span style="color: #666666">*</span> button2 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;gotoscreen1&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
	button2<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> button2<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, screen2Text<span style="color: #666666">-&gt;</span>getY() <span style="color: #666666">+</span> screen2Text<span style="color: #666666">-&gt;</span>getH() <span style="color: #666666">+</span> <span style="color: #666666">50</span>);
</pre></div>
You might notice that creating a text button is exactly like creating text. The only difference
is that is a button object and we need to give it an action which we will see below.

<h5>Now we will add actions to the buttons.</h5>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"> <span style="color: #408080; font-style: italic">// give this button an action</span>
	button1<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, screen2));
       
	<span style="color: #408080; font-style: italic">// give this button an action       </span>
	button2<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, screen1));
</pre></div>
I did a bit of shorthand here. I called a method inside of the parameter for setButtonAction. Basically,
createAction() will get called and return an action object pointer which is what gets passed in as the parameter to setButtonAction.
<br></br> A little explanation about button actions: an action is composed of two things the <b>action type</b> and <b>action parameter</b>.
The action type is exactly what is sounds like, it is the action you want to do such as MOVE_SCREENS. I have already predefined a set of
actions for us. You can see them under GUI_files->Action.h. The action parameter is what we actually use to complete the action. So for the case
of MOVE_SCREENS, the action parameter is the screen (pointer to the screen object). Don't worry about the details,
just know that this is how you create and set a button action.

<br></br> <h5>The final step is to add the buttons to the screens and add the screens to the node</h5>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// add the buttons to their screens</span>
	screen1<span style="color: #666666">-&gt;</span>addButtonToScreen(button1);
	screen2<span style="color: #666666">-&gt;</span>addButtonToScreen(button2);

	<span style="color: #408080; font-style: italic">// add the screens to the node</span>
	<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(screen1);
	<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(screen2);

	<span style="color: #408080; font-style: italic">// tell the node the current screen</span>
	<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>setCurrentScreen(screen1);
}
};
</pre></div>
Here adding buttons is similar to adding images and text to the screen. Once our screens have everything we want,
we need to add them to the node. The way we do that is with the special keyword <b>this</b>. In C++ the this keyword is
a pointer to the object we are currently in. So this->addScreen means we are adding a screen to the current object which is the RootNode. Remember,
we are still inside the constructor of the RootNode. Finally, we have to set the current screen so that our node know which screen to default to.

<hr>
 That's how we create nodes. This was a basic node. To see the full menu which is more complex click <a href = "https://github.com/geffencooper/bareMenuFiles" target = "blank">here</a>

<h5>Once you get this code working, try changing and messing with it. See what happens. It's really difficult to understand
	how something works just by reading it, the best way to learn is to try it yourself. Gradually, things will start to make more
	sense and you will be able to customize your menu system however you want which is the most fun part!
</h5>

<hr>

<a name="Lesson3"></a>
<h2>Lesson 3: Animation and Game Design</h2>
<p>
	Lessons 0-2 were mainly setup, design, and building the structure of our Arcade.
	With this foundation we can now expand and integrate more exciting things like animation
	and game design. In this lesson we will create a very simple "game" of a ball bouncing on the screen. 

	<IMG SRC="images/animation.gif" style="float: right; width: 50%; margin-right: 1%; margin-top: 1%; margin-bottom: 2%;">
	<h4>Animation Introduction</h4>
	Before animating anything, let's do a simple overview of how animation works. Animation is
	essentially an optical illusion. As seen in the gif here, animation is just a rapid sequence
	of still images that mimic continuous motion. The reason for this illusion has to do with a
	concept called persistance of vision which you can read about <a href = "https://ameliarobinsonmedia.wordpress.com/2015/01/27/persistence-of-vision/" target = "blank">here</a>. Essentially, our eyes can only
	process a certain amount of images per second and anything higher than that is observed as continous.
	
	
	<br></br>
	This is exactly what we will be doing in our program (sequence of still images). If you recall, our
	GUI loop run 60 times per second and each time it runs (each frame) we render some image to the screen.
	Every succcessive frame we move the image slightly by some amount of pixels and at 60 frames per second
	this is observed as continuous motion.
	<br></br>
	<br></br>

	<h4>Game Design Introduction</h4>
	So now that we have a rough idea of how animation works, let's look at how a simple game works.

	<ul>
		<li>
			In general a game is just a succession of events and interactions with some end goal.	
		</li>
		<li>
			An event in our game will be any form of user input as well as the movement of "game objects". Interactions include
			collisions and any other logic or "states" that are defined by our game. For example, if a game object enters
			a certain region of the screen then we might want it to do something or for something to happen.
		</li>
		<IMG SRC="images/events.png" style="float: right; width: 100%; margin-right: 1%; margin-top: 1%; margin-bottom: 2%;">
		<li>
			So overall we have game objects that are part of our game and can move or stay still. Each object has
			its own update method that changes its state from frame to frame. This typically will just be movement but can 
			be whatever you want it to be. Based on these updates, certain states will result in the game. For example,
			when a ball game object updates, it will change position. Based on this change of position certain states can occur
			like collision with the wall or other objects which must be recognized and handled by our game's logic. This sequence of update then game logic is seen
			in the image above of a simple game object.
		</li>
	</ul>

	<h5>Steps to implement our game</h5>
	<ol>
		<li>
			The first step is to define game objects which is anything you can interact with
			such as obstacles, moving pieces, or the player. For our simple game the only game object will be the ball. 
			To implement a game object in code we must create a class. I have
			already created a generic class called Entity that provides essential attributes
			and functions any game object has including <b><i>size, position, velocity, etc
			</i></b> as well as update and render functions. To create game objects we will create a class
			that inherits from Entity so that every game object will not only have all the essential methods and qualities 
			already, but also they will be easy to interface with in a standardized way.
		</li>
		<li>
			The next step is to define our game. This includes all the logic, including
			colision detection, game states, and any other interactions we want to recognize. The generic outline
			for a game has already been implemented in a class called GameScreen. If you recall we have a generic screen
			class and under screen we had MenuScreen which was a collection of buttons. A GameScreen is another
			type of screen that implements a game. So to create a new game we will inherit from the GameScreen
			class so that our game will already have the essential attributes and methods and also
			have a standerdized interface. However, we will customize how these functions and attributes are
			imlemented and used enabling us to create any simple game we want.
		</li>
		<li>
			The final step is to create a new Node that will contain our game. If you recall from the menu system,
			we created buttons which were part of screens which were bundled all into a node. This is the same thing;
			we create game objects which are part of a GameScreen which along with other MenuScreens (like a pause screen)
			are bundled into a node.
		</li>
	</ol>

	<h4>Coding</h4>
	<b>Important: </b>Before coding type "git pull upstream master" into the terminal as we did last lesson.
	I made some changes that you must have to get the code to work.
	<p>
		Let's get into coding now that we have a high level understanding of how to implement
		a game into the structure of our arcade.
		<ol>
			<li>
				<h5>Defining the game object Ball</h5>
				 The first thing we need to do is define the Ball class for our Ball object.
				 In C++ classes are typically separated into .h files called header files
				 and .cpp files which are c plus plus files. The header file will contain the class
				 defintion with function protoypes and member variables whereas the cpp file
				 will contain the function implementation. For an example of
				 this read <a href = "http://www.cppforschool.com/tutorial/separate-header-and-implementation-files.html" target = "blank">this article</a>. 
				 and <a href = "http://www.cplusplus.com/forum/articles/10627/">this article</a>. There are a few reasons we divide classes into headers and cpp files.
				 <ul>
					 <li>
							The first reason is to divide the interface of our class from the implementation.
				 This goes back to the concept of abstraction, users of the class don't need to be
				 concerned with the details of implementation. The headers contain the class interface and the cpp contain the implementation.
					 </li>
					 <li>
							The second reason is compile time. This is beyond the scope of the project but basically
							imagine if all our code was in the same file. Every time we made a change we would have to recompile all of the code
							which for larger projects can take several minutes. Using header and cpp files, we separate the implementation so that we 
							only need to recompile the headers everytime which are much smaller. For example, we are using the SDL2 lirary which contains 
							many files. Everytime we compile our code we don't recompile the entire SDL2 library, we just use the precompiled .cpp files 
							and recompile the headers when we include them into our cpp files.
					 </li>
				 </ul>
				 
				 

				 You might wonder why we didn't have .cpp files for Node classes. That is because the implementation
				 of those classes are a special case that are a bit unorthodox. Typically you create a class so you can
				 create objects of those classes to use. In the case of node classes we just wanted to 
				 have a unit of organization so we bundled the initialization of the node into a class.
				 The only thing we really implemented for that class was the constructor, and we only
				 ever create one object of those classes so they are a special case.

				 <br></br>
				 So now let's create the file Ball.h and define the ball class as shown.
				 <!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// Ball.h</span>

<span style="color: #BC7A00">#ifndef BALL_H</span>
<span style="color: #BC7A00">#define BALL_H</span>

<span style="color: #BC7A00">#include &quot;Entity.h&quot;</span>

<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Ball</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Entity
{
    <span style="color: #A0A000">public:</span>
        Ball();
        <span style="color: #B00040">void</span> <span style="color: #0000FF">update</span>(SDL_Event<span style="color: #666666">*</span> event);
};

<span style="color: #BC7A00">#endif</span>
</pre></div>

At the top we specifiy the file name. Next we create what are called header guards which are a set of statements to prevent us
from including a header file into another file more than once which is a problem because it can cause duplicate definitions. The header guards are
the <b>#ifndef BALL_H #define BALL_H ... #endif </b>. This means, if you have not defined BALL_H then define it and include the code between the #ifndef and #endif. If it is defined then everything below the #ifndef will be ignored. 
An example of multiple inclusion is let's say we have a header called functions.h that we #include in a lot of files including Main.cpp and object.h. Now
let's say we include object.h into Main.cpp. Now Main.cpp has included functions.h twice, once directly, and once indirectly through objects.h.
When we start having lots of files it is very difficult to keep track of these dependencies so we use header guards to prevent multiple inclusion. 				 
<br></br>
Next we have all our resources that we need to include at the top. All we need is "Entity.h" which includes everything else we need.
Finally, we define the class Ball and publicly inherit from Entity so that we get all its functions and attributes.
Inside the class we create the public section. (read about public vs private <a href ="https://www.geeksforgeeks.org/access-modifiers-in-c/" target = "blank">here</a>)
The public section has the Ball constructor and the update method. The render method is already implemented in Entity.h. Note how these are just the function prototypes, no definitions.
This class definition simply defines the interface.
<br></br>
<br></br>
Create another file called "Ball.cpp"
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// Ball.cpp</span>

	<span style="color: #BC7A00">#include &quot;Ball.h&quot;</span>

	<span style="color: #408080; font-style: italic">// constructor</span>
	Ball<span style="color: #666666">::</span>Ball()
	{
		setXPos(<span style="color: #666666">0</span>);
		setYPos(<span style="color: #666666">0</span>);
		setXVelocity(<span style="color: #666666">0</span>);
		setYVelocity(<span style="color: #666666">0</span>);
	}
	
	<span style="color: #B00040">void</span> Ball<span style="color: #666666">::</span>update(SDL_Event<span style="color: #666666">*</span> event)
	{
		<span style="color: #008000; font-weight: bold">if</span>(event <span style="color: #666666">==</span> nullptr)
		{
			setXPos(getXPos() <span style="color: #666666">+</span> getXVelocity());
			setYPos(getYPos() <span style="color: #666666">+</span> getYVelocity());
		}
	}
	</pre></div>
	After defining the class, we implement the functions in the .cpp file. In order to do this
	we must first include the header file as shown at the top so that we can access the class.
	Then to implement a method of the class we have to use this syntax <b><i>class name :: method name</i></b>.
	The "::" is the "scope resolution operator" and signifies that the method we are defining is part of the class
	on the left of the operator. So Ball::Ball means we are defining a method Ball (constructor) for the class Ball.

	<br></br>
	The first function we define is the constructor. Everytime we create a ball object, this method is called.
	Typically the constructor will initialize the member variables to some default value. Here we set all
	the attributes of ball to zero by default but we can change these later on.
	<br></br>
	Next we define the update method which takes in an event. If you recall, in our GUI loop we call the update method twice, the first time
	is if there is an event and the second time is with a nullptr just to update everything regardless.
	We want to update our ball every frame so we check if the event is a nullptr before updating it. If we just updated it no matter what we
	would get a "double update" (once when there is an event and once when there is no event) which will result
	in unwanteed behavior. In the update function we just move the ball by adding to its x and y position. The amount we move the ball
	is essentially the velocity. velocity = displacement/time and each frame is a certain amount of time so we are moving the ball
	some distance every ~1/60 sec which gives us the velocity. If we have x velocity as 2 then we add 2 to the position every frame which means the
	ball moves about 2 pixels every frame or ~ 120 pixels a second.
			</li>
			<li>
				<h5>Defining the game</h5>
				Create a new file called SimpleGame.h.
				<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// SimpleGame.h</span>

<span style="color: #BC7A00">#ifndef SIMPLE_GAME_H</span>
<span style="color: #BC7A00">#define SIMPLE_GAME_H</span>

<span style="color: #BC7A00">#include &quot;GameScreen.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Ball.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>

<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">SimpleGame</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> GameScreen
{
    <span style="color: #A0A000">public:</span>
        SimpleGame();
        Action <span style="color: #0000FF">update</span>(SDL_Event<span style="color: #666666">*</span> event);
        <span style="color: #B00040">void</span> <span style="color: #0000FF">logic</span>();

        <span style="color: #B00040">void</span> <span style="color: #0000FF">newGame</span>();
        <span style="color: #408080; font-style: italic">//void checkCollision();</span>

        <span style="color: #B00040">void</span> <span style="color: #0000FF">setBall</span>(Ball<span style="color: #666666">*</span> ball_in) {ball <span style="color: #666666">=</span> ball_in;}
        Ball<span style="color: #666666">*</span> <span style="color: #0000FF">getBall</span>() {<span style="color: #008000; font-weight: bold">return</span> ball;}
    <span style="color: #A0A000">private:</span>
        Ball<span style="color: #666666">*</span> ball;
};

<span style="color: #BC7A00">#endif</span>
</pre></div>
As we did with Ball.h we have the file name at the top, the header guards, then the resources to include.
Next we define the class and publicly inherit from GameScreen so that we get all the essentiall attributes and functions.
<br></br>
In the private section you will see we add one attribute to this game, a ball. That is the only game object for this game.
In the public section we provide the methods that we will define to create a game.
<ul>
	<li>
		SimpleGame() = constructor
	</li>
	<li>
		update() = the events, rules, logic of our game
	</li>
	<li>
		logic() = called by the update method
	</li>
	<li>
		newGame() = resets the game
	</li>
	<li>
		getBall() and setBall() = accessor and mutator
	</li>
</ul>
There are more methods inherited from GameScreen that we have but just can't see unless you look at GameScreen.h
<br></br>
Now create a file called SimpleGame.cpp to implement the methods of the SimpleGame class
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// SimpleGame.cpp</span>

	<span style="color: #BC7A00">#include &quot;SimpleGame.h&quot;</span>

	SimpleGame<span style="color: #666666">::</span>SimpleGame()
	{
		<span style="color: #408080; font-style: italic">//</span>
	}
	
	<span style="color: #408080; font-style: italic">// game logic</span>
	Action SimpleGame<span style="color: #666666">::</span>update(SDL_Event<span style="color: #666666">*</span> event)
	{
		<span style="color: #408080; font-style: italic">// check if new game</span>
		<span style="color: #008000; font-weight: bold">if</span>(getIsNewGame())
		{
			newGame();
		}
	
		<span style="color: #408080; font-style: italic">// create an action object</span>
		Action newAction <span style="color: #666666">=</span> {DO_NOTHING, nullptr};
	
		<span style="color: #408080; font-style: italic">// update all the game objects</span>
		<span style="color: #008000; font-weight: bold">for</span>(<span style="color: #B00040">int</span> i <span style="color: #666666">=</span> <span style="color: #666666">0</span>; i <span style="color: #666666">&lt;</span> getMovingEntities()<span style="color: #666666">-&gt;</span>size(); i<span style="color: #666666">++</span>)
		{
			(<span style="color: #666666">*</span>getMovingEntities())[i]<span style="color: #666666">-&gt;</span>update(event);
		}
	
		<span style="color: #408080; font-style: italic">// execute game logic</span>
		logic();
	
		<span style="color: #408080; font-style: italic">// if the game state is false, end the game</span>
		<span style="color: #008000; font-weight: bold">if</span>(getgameState() <span style="color: #666666">==</span> <span style="color: #008000">false</span>)
		{
			setisNewGame(<span style="color: #008000">true</span>);
			setGameState(<span style="color: #008000">true</span>);
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">0</span>);
	
			newAction <span style="color: #666666">=</span> {MOVE_SCREENS, getGameOverScreen()};
		}
	
		<span style="color: #008000; font-weight: bold">if</span>(event)
		{
			<span style="color: #008000; font-weight: bold">if</span>((<span style="color: #666666">*</span>event).key.keysym.sym <span style="color: #666666">==</span> SDLK_q)
			{
				setisNewGame(<span style="color: #008000">true</span>);
				newAction <span style="color: #666666">=</span> {MOVE_NODES, getParentNode()};
				<span style="color: #008000; font-weight: bold">return</span> newAction;
			}
	
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>((<span style="color: #666666">*</span>event).key.keysym.sym <span style="color: #666666">==</span> SDLK_p)
			{
				newAction <span style="color: #666666">=</span> {MOVE_SCREENS, getPauseScreen()};
				<span style="color: #008000; font-weight: bold">return</span> newAction;
			}
	
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>((<span style="color: #666666">*</span>event).key.keysym.sym <span style="color: #666666">==</span> SDLK_n)
			{
				setGameState(<span style="color: #008000">true</span>);
				setisNewGame(<span style="color: #008000">true</span>);
			}
	
			<span style="color: #008000; font-weight: bold">return</span> newAction;
		}
	}
	
	<span style="color: #B00040">void</span> SimpleGame<span style="color: #666666">::</span>newGame()
	{
		setGameState(<span style="color: #008000">true</span>);
		ball<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
		ball<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">0</span>);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">2</span>);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">5</span>);
		setisNewGame(<span style="color: #008000">false</span>);
	}
	
	<span style="color: #B00040">void</span> SimpleGame<span style="color: #666666">::</span>logic()
	{
		<span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			getBall()<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
	
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			getBall()<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));
		}
	
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> windowWidth)
		{
			getBall()<span style="color: #666666">-&gt;</span>setXPos(windowWidth <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getWidth());
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
	
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> windowHeight)
		{
			getBall()<span style="color: #666666">-&gt;</span>setYPos(windowHeight <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getHeight());
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));
		}
	}
	</pre></div>
	For now we will leave the constructor empty but let's break down the update method.
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Action SimpleGame<span style="color: #666666">::</span>update(SDL_Event<span style="color: #666666">*</span> event)
{
    <span style="color: #408080; font-style: italic">// check if new game</span>
    <span style="color: #008000; font-weight: bold">if</span>(getIsNewGame())
    {
        newGame();
    }

    <span style="color: #408080; font-style: italic">// create an action object</span>
    Action newAction <span style="color: #666666">=</span> {DO_NOTHING, nullptr};

    <span style="color: #408080; font-style: italic">// update all the game objects</span>
    <span style="color: #008000; font-weight: bold">for</span>(<span style="color: #B00040">int</span> i <span style="color: #666666">=</span> <span style="color: #666666">0</span>; i <span style="color: #666666">&lt;</span> getMovingEntities()<span style="color: #666666">-&gt;</span>size(); i<span style="color: #666666">++</span>)
    {
        (<span style="color: #666666">*</span>getMovingEntities())[i]<span style="color: #666666">-&gt;</span>update(event);
    }
</pre></div>
First let's look at the function signature, we have an Action as the return type and pass in an event as a 
parameter. If you remember, in order to move in our menu system we need actions so if we want to leave the 
game we need to return an action saying that.

<br></br>The first thing we check every update is if it is a new game. We need to do this because
there is no way to inherently know if this is the first time we have called update or the 500th time. We will define the
newGame() method later on.
<br></br>
Next we create an "empty" action object that does nothing. We will return this if we want to stay in the game.
<br></br>
Next we call update on all the moving game objects. The syntax is a bit wonky but basically we have a vector (a list) of
game objects called movingEntities which stores all the game objects that can move. In our game we only need to update the moving objects
but in other games you may choose to update static objects as well. The function getMovingEntities() returns a pointer to the
vector so we must dereference it before we can index it and call update for all its members.
This basically moves all our game objects for this frame. 
<br></br>
<br></br>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">    logic();

    <span style="color: #408080; font-style: italic">// if the game state is false, end the game</span>
    <span style="color: #008000; font-weight: bold">if</span>(getgameState() <span style="color: #666666">==</span> <span style="color: #008000">false</span>)
    {
        setisNewGame(<span style="color: #008000">true</span>);
        setGameState(<span style="color: #008000">true</span>);
        getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">0</span>);
        getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">0</span>);

        newAction <span style="color: #666666">=</span> {MOVE_SCREENS, getGameOverScreen()};
    }
</pre></div>
After updating all the game objects we call the logic function to detect if any game states have been
reached and to handle them accordingly. In this case our logic function is used for collision
detection after the objects move each frame. We will define the logic function later on.
<br></br>
After the logic function gets called we check to see if the game is over because the logic function recognizes
and handles states that end the game. If it is over we basically reset everthing and set the newAction to go to the gameOver screen.
<br></br>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">if</span>(event)
    {
        <span style="color: #008000; font-weight: bold">if</span>((<span style="color: #666666">*</span>event).key.keysym.sym <span style="color: #666666">==</span> SDLK_q)
        {
            setisNewGame(<span style="color: #008000">true</span>);
            newAction <span style="color: #666666">=</span> {MOVE_NODES, getParentNode()};
            <span style="color: #008000; font-weight: bold">return</span> newAction;
        }

        <span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>((<span style="color: #666666">*</span>event).key.keysym.sym <span style="color: #666666">==</span> SDLK_p)
        {
            newAction <span style="color: #666666">=</span> {MOVE_SCREENS, getPauseScreen()};
            <span style="color: #008000; font-weight: bold">return</span> newAction;
        }

        <span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>((<span style="color: #666666">*</span>event).key.keysym.sym <span style="color: #666666">==</span> SDLK_n)
        {
            setGameState(<span style="color: #008000">true</span>);
            setisNewGame(<span style="color: #008000">true</span>);
        }

        <span style="color: #008000; font-weight: bold">return</span> newAction;
    }
}
</pre></div>
This is the final part of the update method where we register user events for our game.
Again the syntax is a bit wonky but this is how you detect a keystroke in SDL2. If it is a q
then we quit the game, if it is a p then we pause the game, and if it is an n we restart the game.
Finally at the end we return newAction at the end of the update function.

<br></br>
Next we have the newGame() method. It is intuitive and just resets everything.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">void</span> SimpleGame<span style="color: #666666">::</span>newGame()
	{
		setGameState(<span style="color: #008000">true</span>);
		ball<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
		ball<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">0</span>);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">2</span>);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">5</span>);
		setisNewGame(<span style="color: #008000">false</span>);
	}	
</pre></div>
<br></br>
Finally we have the logic method which in this case is collision detection.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">void</span> SimpleGame<span style="color: #666666">::</span>logic()
	{
		<span style="color: #408080; font-style: italic">// ball hits left side of screen</span>
		<span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			getBall()<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
	
		<span style="color: #408080; font-style: italic">// ball hits top of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			getBall()<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));
		}
	
		<span style="color: #408080; font-style: italic">// ball hits right side of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> windowWidth)
		{
			getBall()<span style="color: #666666">-&gt;</span>setXPos(windowWidth <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getWidth());
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
	
		<span style="color: #408080; font-style: italic">// ball hits bottom of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> windowHeight)
		{
			getBall()<span style="color: #666666">-&gt;</span>setYPos(windowHeight <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getHeight());
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));
		}
	}
	</pre></div>
	<IMG SRC="images/collision.png" style="float: right; width: 50%; margin-right: 1%; margin-top: 1%; margin-bottom: 2%;"> 

Since there is only one game object the only collisions that occur are with the four sides of the	
screen. Accordingly we have four if statements to check these four collision cases: left, top, right, bottom.
<br></br>
To understand what each of these
if statements is checking, look at the image to the right. We see the ball represented as a black square moving from position 1 to position
2 where the position is te red circle at the top left of each square. The screen is represented by the large black square with the coordinates shown.
Notice how the Y axis is inverted and positive is down. This is how coordinates work for images. Also, position for a texture is the top left corner, not the center.
<br></br>
This image reflects the first if statement. When the ball moves to position 2 its x coordinate will be negative. We
don't want to render the ball when it is off the screen so we set its x coordinate back to zero. Then to make a "collision effect" we invert the
x velocity. This way the ball will look like it bounces off the left side of the screen. We do the same exact thing for the other three sides. However,
notice that for the bottom and right we must account for the width and height of the ball because again the position of the ball is the top left corner.
			</li>

			<br></br><li>
		
	<h5>Creating a new node</h5>
	Now that we have our game object and our game screen we need to integrate them into a new node. Create a file called "GameNode.h"
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// GameNode.h</span>

<span style="color: #BC7A00">#include &quot;Node.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SimpleGame.h&quot;</span>


<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">GameNode</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Node
{
    <span style="color: #A0A000">public:</span> 
        GameNode(SDL_Renderer<span style="color: #666666">*</span> renderer_in, Node<span style="color: #666666">*</span> parentNode_in)<span style="color: #666666">:</span> Node(renderer_in, parentNode_in)
        {
            SimpleGame<span style="color: #666666">*</span> game <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> SimpleGame;
            <span style="color: #408080; font-style: italic">//game-&gt;addTextureToScreen(createImage(renderer_in, &quot;brickBreakerNodeImages/brickBreakerScreen.png&quot;, true));</span>

            Ball<span style="color: #666666">*</span> ball <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Ball;
            ArcadeTexture<span style="color: #666666">*</span> ballTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/ballTexture.png&quot;</span>);

            ball<span style="color: #666666">-&gt;</span>setGameObjectTexture(ballTexture);
            ball<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">true</span>);

            game<span style="color: #666666">-&gt;</span>addEntity(ball);
            game<span style="color: #666666">-&gt;</span>addMovingEntity(ball);
            game<span style="color: #666666">-&gt;</span>setBall(ball);

            game<span style="color: #666666">-&gt;</span>setisNewGame(<span style="color: #008000">true</span>);
            game<span style="color: #666666">-&gt;</span>setGameState(<span style="color: #008000">true</span>);

            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(game);
            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>setCurrentScreen(game);
        }
};
</pre></div>
Notice that this process is almost identical to creating a new node from before. The only difference is that we must 
initialize a GameScreen and Entity in slightly different ways as shown. Notice the line that is commented out. When you get your code working you 
should notice something a bit weird. Try compiling and running your code with the line commented and uncommented
and try to understand why that weird behavior happens. If you went to lecture you will know why. 
	</li>
		</ol>

The last step is to edit our Main.cpp function to build this GameNode. The only thing that changed in the code
below from the simple menu is that we include "GameNode.h" and create a GameNode object.

<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// main.cpp</span>
<span style="color: #BC7A00">#include &quot;SDL.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_mixer.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_ttf.h&quot;</span>
<span style="color: #BC7A00">#include &quot;SDL_image.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
<span style="color: #BC7A00">#include &lt;stdio.h&gt;</span>
<span style="color: #BC7A00">#include &quot;GameNode.h&quot;</span>

<span style="color: #408080; font-style: italic">// declaring pointer to objects that main needs, initialize to null</span>
<span style="color: #408080; font-style: italic">// these objects are created in main because they are needed for the outermost loop</span>
SDL_Window<span style="color: #666666">*</span> arcadeSystemWindow <span style="color: #666666">=</span> nullptr;
SDL_Renderer<span style="color: #666666">*</span> arcadeSystemRenderer <span style="color: #666666">=</span> nullptr;
TTF_Font<span style="color: #666666">*</span> font <span style="color: #666666">=</span> nullptr;

<span style="color: #408080; font-style: italic">// initialization function, initializes above objects and calls some SDL initialization functions</span>
<span style="color: #B00040">bool</span> <span style="color: #0000FF">init</span>()
{
	<span style="color: #408080; font-style: italic">// Initialization flag</span>
	<span style="color: #B00040">bool</span> success <span style="color: #666666">=</span> <span style="color: #008000">true</span>;

	<span style="color: #408080; font-style: italic">// Initialize SDL</span>
	<span style="color: #008000; font-weight: bold">if</span> (SDL_Init(SDL_INIT_VIDEO <span style="color: #666666">|</span> SDL_INIT_AUDIO) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
	{
		printf(<span style="color: #BA2121">&quot;SDL could not initialize! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
		success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
	}
	<span style="color: #008000; font-weight: bold">else</span>
	{
		<span style="color: #408080; font-style: italic">// Create window in the center of the screen</span>
		arcadeSystemWindow <span style="color: #666666">=</span> SDL_CreateWindow(<span style="color: #BA2121">&quot;Arcade System&quot;</span>, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, windowWidth, windowHeight, SDL_WINDOW_SHOWN);
		<span style="color: #008000; font-weight: bold">if</span> (arcadeSystemWindow <span style="color: #666666">==</span> <span style="color: #008000">NULL</span>)	
		{
			printf(<span style="color: #BA2121">&quot;Window could not be created! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span>
		{
			<span style="color: #408080; font-style: italic">// initialize renderer, set the background as white for the wwindow, sync the renderer with the monitor refresh rate</span>
			arcadeSystemRenderer <span style="color: #666666">=</span> SDL_CreateRenderer(arcadeSystemWindow, <span style="color: #666666">-1</span>, SDL_RENDERER_ACCELERATED <span style="color: #666666">|</span> SDL_RENDERER_PRESENTVSYNC);
			SDL_SetRenderDrawColor(arcadeSystemRenderer, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>);
		}
		<span style="color: #408080; font-style: italic">// Initialize SDL_mixer</span>
		<span style="color: #008000; font-weight: bold">if</span> (Mix_OpenAudio(<span style="color: #666666">44100</span>, MIX_DEFAULT_FORMAT, <span style="color: #666666">2</span>, <span style="color: #666666">2048</span>) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			printf(<span style="color: #BA2121">&quot;SDL_mixer could not initialize! SDL_mixer Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, Mix_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}
		<span style="color: #408080; font-style: italic">// initialize true type font </span>
		<span style="color: #008000; font-weight: bold">if</span> (TTF_Init() <span style="color: #666666">==</span> <span style="color: #666666">-1</span>)
		{
			printf(<span style="color: #BA2121">&quot;SDL_ttf could not initialize! SDL_ttf Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, TTF_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}

	}
	<span style="color: #008000; font-weight: bold">return</span> success;
}

<span style="color: #B00040">int</span> <span style="color: #0000FF">main</span>(<span style="color: #B00040">int</span> argc, <span style="color: #B00040">char</span><span style="color: #666666">*</span> argv[])
{	
	<span style="color: #408080; font-style: italic">// first call initialization</span>
	<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>init())
	{
		printf(<span style="color: #BA2121">&quot;Failed to initialize!</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
	}
	<span style="color: #408080; font-style: italic">// if initializes successfully then continue</span>
	<span style="color: #008000; font-weight: bold">else</span>
	{
		<span style="color: #B00040">bool</span> quit <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		GameNode currentNode(arcadeSystemRenderer, nullptr);
		<span style="color: #008000; font-weight: bold">while</span> (<span style="color: #666666">!</span>quit)
		{	
			<span style="color: #408080; font-style: italic">// handle events on queue until empty</span>
			SDL_Event e;
			<span style="color: #008000; font-weight: bold">while</span> (SDL_PollEvent(<span style="color: #666666">&amp;</span>e) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)
			{
				currentNode.update(<span style="color: #666666">&amp;</span>e);
				<span style="color: #408080; font-style: italic">// user requests quit by clicking window X</span>
				<span style="color: #008000; font-weight: bold">if</span> (e.type <span style="color: #666666">==</span> SDL_QUIT)
				{
					quit <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
				}
			}
			currentNode.update(nullptr);
			currentNode.render(arcadeSystemRenderer);
			SDL_RenderPresent(arcadeSystemRenderer);
		}
	}
	
	<span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;
}
</pre></div>
	</p>



</p>
<h5>link to code for lesson 3</h5>
<p> https://github.com/geffencooper/lesson03_code </p>

<h4> That is how you make a game in our arcade. While it seems like a lot just to make a
	ball bounce on the screen it was less than 200 lines of code (about half of these are empty or comments).
	This is the bulk of the code and from here you can easily add new objects and new logic.
	I encourage everyone to mess around with this code once they get it working and see what you can make
	just with this simple template. Please contact me if you are confused or need help.
</h4>

Also, don't forget to use the git commands from last lesson to keep track of your changes and save them to GitHub.
<code>git add .</code> and <code>git commit -m "message"</code> and <code>git push origin master</code>
</p>

	</p>
<hr>
	<a name="Lesson4"></a>
	<h2>Lesson 4: Animation and Game design Part 2</h2>
	<p>
		In this lesson we will continue where we left off last lesson and just keep adding to 
		our simple game. We will be adding a few new features including user interaction and more screens.

		<h4>User interaction</h4>
		Right now our game is not really a game because there is no way for the user to interact
		with anything, it is just an animation of a ball. To enable user interaction we will create another game object
		that will respond to keystroke events. This game object will be a paddle that will be used to hit the ball.
		<br></br>
		Remember the three steps from last lesson. Whenever you want to add to the game you
		<ol>
			<li>
				Create and define a game object
			</li>
			<li>
				Redefine the game screen according to the game object
			</li>
			<li>
				Redefine the node to link the game object and screen 
			</li>
		</ol>

		<p>
			<h5>1. Create and define a game object</h5>
			To create a paddle game object we will create a new paddle class just
			like we did with Ball.
			<br></br>
			First create the class in a new file called Paddle.h
			<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// Paddle.h</span>

<span style="color: #BC7A00">#ifndef PADDLE_H</span>
<span style="color: #BC7A00">#define PADDLE_H</span>

<span style="color: #BC7A00">#include &quot;Entity.h&quot;</span>

<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Paddle</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Entity
{
<span style="color: #A0A000">public:</span>
	Paddle();
	<span style="color: #B00040">void</span> <span style="color: #0000FF">update</span>(SDL_Event<span style="color: #666666">*</span> event);
};

<span style="color: #BC7A00">#endif</span>
</pre></div>
This file is almost identical to the Ball.h file so I will not go through this code. For an explanation,
go back to lesson 3 and read through "Defining the Game Object Ball".

<br></br>

Next let's create the Paddle.cpp class and define the constructor and update method
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// Paddle.cpp</span>

	<span style="color: #BC7A00">#include &quot;Paddle.h&quot;</span>

	Paddle<span style="color: #666666">::</span>Paddle()
	{
		setXPos(<span style="color: #666666">0</span>);
		setYPos(<span style="color: #666666">0</span>);
		setXVelocity(<span style="color: #666666">0</span>);
		setYVelocity(<span style="color: #666666">0</span>);
	}
	
	<span style="color: #B00040">void</span> Paddle<span style="color: #666666">::</span>update(SDL_Event<span style="color: #666666">*</span> event)
	{
		<span style="color: #008000; font-weight: bold">if</span> ((event) <span style="color: #666666">&amp;&amp;</span> ((<span style="color: #666666">*</span>event).type <span style="color: #666666">==</span> SDL_KEYDOWN) <span style="color: #666666">&amp;&amp;</span> (<span style="color: #666666">*</span>event).key.repeat <span style="color: #666666">==</span> <span style="color: #666666">0</span>)
		{
			<span style="color: #008000; font-weight: bold">switch</span> ((<span style="color: #666666">*</span>event).key.keysym.sym)
			{
			<span style="color: #008000; font-weight: bold">case</span> SDLK_RIGHT:
			{
				printf(<span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">RIGHT</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
				setXVelocity(getXVelocity() <span style="color: #666666">+</span> <span style="color: #666666">8</span>);
				<span style="color: #008000; font-weight: bold">break</span>;
			}
			<span style="color: #008000; font-weight: bold">case</span> SDLK_LEFT:
			{
				printf(<span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">LEFT</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
				setXVelocity(getXVelocity() <span style="color: #666666">-</span> <span style="color: #666666">8</span>);
				<span style="color: #008000; font-weight: bold">break</span>;
			}
			}
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> ((event <span style="color: #666666">!=</span> nullptr) <span style="color: #666666">&amp;&amp;</span> (<span style="color: #666666">*</span>event).type <span style="color: #666666">==</span> SDL_KEYUP <span style="color: #666666">&amp;&amp;</span> (<span style="color: #666666">*</span>event).key.repeat <span style="color: #666666">==</span> <span style="color: #666666">0</span>)
		{
			<span style="color: #008000; font-weight: bold">switch</span> ((<span style="color: #666666">*</span>event).key.keysym.sym)
			{
			<span style="color: #008000; font-weight: bold">case</span> SDLK_RIGHT:
			{
				setXVelocity(getXVelocity()<span style="color: #666666">-8</span>);
				<span style="color: #008000; font-weight: bold">break</span>;
			}
			<span style="color: #008000; font-weight: bold">case</span> SDLK_LEFT:
			{
				setXVelocity(getXVelocity()<span style="color: #666666">+8</span>);
				<span style="color: #008000; font-weight: bold">break</span>;
			}
			}
		}
		<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>event)
		{
			setXPos(getXPos() <span style="color: #666666">+</span> getXVelocity());
		}
	}
	</pre></div>
	<br></br>
	Everything before the update method is exactly the same as Ball.cpp so I will only
	go into the how the update method for paddle works.
	
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">void</span> Paddle<span style="color: #666666">::</span>update(SDL_Event<span style="color: #666666">*</span> event)
{
	<span style="color: #008000; font-weight: bold">if</span> ((event) <span style="color: #666666">&amp;&amp;</span> ((<span style="color: #666666">*</span>event).type <span style="color: #666666">==</span> SDL_KEYDOWN) <span style="color: #666666">&amp;&amp;</span> (<span style="color: #666666">*</span>event).key.repeat <span style="color: #666666">==</span> <span style="color: #666666">0</span>)
	{
		<span style="color: #008000; font-weight: bold">switch</span> ((<span style="color: #666666">*</span>event).key.keysym.sym)
		{
		<span style="color: #008000; font-weight: bold">case</span> SDLK_RIGHT:
		{
			printf(<span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">RIGHT</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
			setXVelocity(getXVelocity() <span style="color: #666666">+</span> <span style="color: #666666">8</span>);
			<span style="color: #008000; font-weight: bold">break</span>;
		}
		<span style="color: #008000; font-weight: bold">case</span> SDLK_LEFT:
		{
			printf(<span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">LEFT</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
			setXVelocity(getXVelocity() <span style="color: #666666">-</span> <span style="color: #666666">8</span>);
			<span style="color: #008000; font-weight: bold">break</span>;
		}
		}
	}
</pre></div>
This is the first part of the update method for Paddle. The first thing to notice is that
we want the paddle to respond to the user pressing keys on the keyboard so we need to work with
the SDL_Event like we did in lesson 3. 
<br></br>
In order to move the paddle we want the user to press the left and right arrow keys. You might think 
that we should just increment and decrement the x position everytime they press left or right. However, we 
don't want the user to have to repeatedly press the key to move the paddle, we want them to be able to just
hold it to move. So what we will do is say <b>the first time</b> you press the right arrow key increment the x velocity and
keep the velocity like that until you release the right arrow key. We also update the position of the paddle every frame
so the paddle will move right until you release the key. (Same for left arrow key). The code is explained below.
<br></br>
The if statement looks confusing so let's break it down. It checks whether three statements are true using the "&&" operator.
This operator just means "and" and says that everything around it must be true. So in order to enter the body of this if statement
all three conditions must be true. The first condition is "event". Event here is a pointer so if it is not NULL (if there is an event) then it
will be true. The second part is checking if the event type is a SDL_KEYDOWN which means did the user press down a the key. The third
check is if key.repeat is 0 (0 in C++ is false). This just means is this the first time you pressed down on this key. So this is basically what 
we said in the first paragraph, the first time you press the arrow key change the velocity. 	
<br></br>
This is second part which checks if you released the key
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span> ((event) <span style="color: #666666">&amp;&amp;</span> (<span style="color: #666666">*</span>event).type <span style="color: #666666">==</span> SDL_KEYUP <span style="color: #666666">&amp;&amp;</span> (<span style="color: #666666">*</span>event).key.repeat <span style="color: #666666">==</span> <span style="color: #666666">0</span>)
	{
		<span style="color: #008000; font-weight: bold">switch</span> ((<span style="color: #666666">*</span>event).key.keysym.sym)
		{
		<span style="color: #008000; font-weight: bold">case</span> SDLK_RIGHT:
		{
			setXVelocity(getXVelocity()<span style="color: #666666">-8</span>);
			<span style="color: #008000; font-weight: bold">break</span>;
		}
		<span style="color: #008000; font-weight: bold">case</span> SDLK_LEFT:
		{
			setXVelocity(getXVelocity()<span style="color: #666666">+8</span>);
			<span style="color: #008000; font-weight: bold">break</span>;
		}
		}
	}
</pre></div>
This time we check if this is the first time the key was released then change the x velocity in
the opposite direction so that it goes back to zero. It is just the opposite of the first if statement.
<br></br>
This final part just updates the position of the paddle whenever there is no event.
If you remember in the main function in our gui loop we call update whenever there is an event and update again with a nullptr
to update game objects even when there are no events. 
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>event)
	{
		setXPos(getXPos() <span style="color: #666666">+</span> getXVelocity());
	}
	</pre></div>
	So overall we just want the paddle to move while we are holding down a key and to stop when we release the key.
	<br></br>
	<h5>2. Redefine the game screen according to the game object</h5>
	Now that we defined the Paddle class we need make our game actually use a paddle game object.
	<br></br>
	First go into "SimpleGame.h" and add a few lines. First we need to #include "Paddle.h" so that we 
	can use it. Second we need to add a Paddle object as an attribute to this game. Finally, we need to create an accessor and mutator
	to allow us to access the Paddle game object. I put comments on the lines of code we added to this file.
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// SimpleGame.h</span>

<span style="color: #BC7A00">#ifndef SIMPLE_GAME_H</span>
<span style="color: #BC7A00">#define SIMPLE_GAME_H</span>

<span style="color: #BC7A00">#include &quot;GameScreen.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Ball.h&quot;</span>
<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>

<span style="color: #408080; font-style: italic">// need to include the paddle class</span>
<span style="color: #BC7A00">#include &quot;Paddle.h&quot;</span>

<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">SimpleGame</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> GameScreen
{
    <span style="color: #A0A000">public:</span>
        SimpleGame();
        Action <span style="color: #0000FF">update</span>(SDL_Event<span style="color: #666666">*</span> event);
        <span style="color: #B00040">void</span> <span style="color: #0000FF">logic</span>();

        <span style="color: #B00040">void</span> <span style="color: #0000FF">newGame</span>();

        <span style="color: #B00040">void</span> <span style="color: #0000FF">setBall</span>(Ball<span style="color: #666666">*</span> ball_in) {ball <span style="color: #666666">=</span> ball_in;}
        Ball<span style="color: #666666">*</span> <span style="color: #0000FF">getBall</span>() {<span style="color: #008000; font-weight: bold">return</span> ball;}
        
        <span style="color: #408080; font-style: italic">// accessor and mutator methods</span>
        <span style="color: #B00040">void</span> <span style="color: #0000FF">setPaddle</span>(Paddle<span style="color: #666666">*</span> paddle_in) {paddle <span style="color: #666666">=</span> paddle_in;}
        Paddle<span style="color: #666666">*</span> <span style="color: #0000FF">getPaddle</span>() {<span style="color: #008000; font-weight: bold">return</span> paddle;}
    <span style="color: #A0A000">private:</span>
        Ball<span style="color: #666666">*</span> ball;
        <span style="color: #408080; font-style: italic">// add paddle as an attribute of the game</span>
        Paddle<span style="color: #666666">*</span> paddle;
};

<span style="color: #BC7A00">#endif</span>
</pre></div>
Next let's add some stuff to the SimpleGame.cpp file so that our paddle can handle collisions.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">void</span> SimpleGame<span style="color: #666666">::</span>newGame()
	{
		setGameState(<span style="color: #008000">true</span>);
		ball<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
		ball<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">0</span>);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">2</span>);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">5</span>);
		paddle<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
		paddle<span style="color: #666666">-&gt;</span>setYPos(windowHeight<span style="color: #666666">-</span>paddle<span style="color: #666666">-&gt;</span>getHeight());
		paddle<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">0</span>);
		setisNewGame(<span style="color: #008000">false</span>);
	}
	</pre></div>
The first function we need to add to is the newGame function. Everytime we start a new game we want to set the paddle
position and velocity as shown.
<br></br>
Now we need to change and add to the logic method so that the paddle has collision detecion.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">void</span> SimpleGame<span style="color: #666666">::</span>logic()
	{
		<span style="color: #408080; font-style: italic">// ball hits left side of screen</span>
		<span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			getBall()<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
	
		<span style="color: #408080; font-style: italic">// ball hits top of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			getBall()<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">0</span>);
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));
		}
	
		<span style="color: #408080; font-style: italic">// ball hits right side of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> windowWidth)
		{
			getBall()<span style="color: #666666">-&gt;</span>setXPos(windowWidth <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getWidth());
			getBall()<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
	
		<span style="color: #408080; font-style: italic">// ball hits bottom of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> windowHeight)
		{
			<span style="color: #408080; font-style: italic">// getBall()-&gt;setYPos(windowHeight - getBall()-&gt;getHeight());</span>
			<span style="color: #408080; font-style: italic">// getBall()-&gt;setYVelocity(-(getBall()-&gt;getYVelocity()));</span>
			setGameState(<span style="color: #008000">false</span>);
		}
	
		<span style="color: #408080; font-style: italic">// -----------------------------------------------------------</span>
	
		<span style="color: #408080; font-style: italic">// paddle collisions</span>
		SDL_Rect ballRegion <span style="color: #666666">=</span> getBall()<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();
		SDL_Rect paddleRegion <span style="color: #666666">=</span> getPaddle()<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();
	
		<span style="color: #008000; font-weight: bold">if</span> (SDL_HasIntersection(<span style="color: #666666">&amp;</span>ballRegion, <span style="color: #666666">&amp;</span>paddleRegion))
		{
			getBall()<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">480</span> <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">-</span> getPaddle()<span style="color: #666666">-&gt;</span>getHeight());
			getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));
	
			<span style="color: #B00040">int</span> ratio <span style="color: #666666">=</span> (getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>) <span style="color: #666666">-</span> (getPaddle()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getPaddle()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(ratio <span style="color: #666666">/</span> <span style="color: #666666">4</span>);
		}
	
		<span style="color: #008000; font-weight: bold">if</span>(paddle<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			paddle<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
		}
		<span style="color: #008000; font-weight: bold">if</span>(paddle <span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> paddle<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> windowWidth)
		{
			paddle<span style="color: #666666">-&gt;</span>setXPos(windowWidth<span style="color: #666666">-</span>paddle<span style="color: #666666">-&gt;</span>getWidth());
		}
	}
	</pre></div>
	The first change is we want our game to end when the ball hits the bottom of the screen like in brick breaker.
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// ball hits bottom of screen</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span>(getBall()<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> windowHeight)
		{
			<span style="color: #408080; font-style: italic">// getBall()-&gt;setYPos(windowHeight - getBall()-&gt;getHeight());</span>
			<span style="color: #408080; font-style: italic">// getBall()-&gt;setYVelocity(-(getBall()-&gt;getYVelocity()));</span>
			setGameState(<span style="color: #008000">false</span>);
		}
	</pre></div>
<br></br>
Next we want to add paddle collision detection.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// paddle collisions</span>
    SDL_Rect ballRegion <span style="color: #666666">=</span> getBall()<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();
	SDL_Rect paddleRegion <span style="color: #666666">=</span> getPaddle()<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();

	<span style="color: #008000; font-weight: bold">if</span> (SDL_HasIntersection(<span style="color: #666666">&amp;</span>ballRegion, <span style="color: #666666">&amp;</span>paddleRegion))
	{
		getBall()<span style="color: #666666">-&gt;</span>setYPos(<span style="color: #666666">480</span> <span style="color: #666666">-</span> getBall()<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">-</span> getPaddle()<span style="color: #666666">-&gt;</span>getHeight());
		getBall()<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(getBall()<span style="color: #666666">-&gt;</span>getYVelocity()));

		<span style="color: #B00040">int</span> ratio <span style="color: #666666">=</span> (getBall()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getBall()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>) <span style="color: #666666">-</span> (getPaddle()<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> getPaddle()<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(ratio <span style="color: #666666">/</span> <span style="color: #666666">4</span>);
	}

    <span style="color: #008000; font-weight: bold">if</span>(paddle<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
    {
        paddle<span style="color: #666666">-&gt;</span>setXPos(<span style="color: #666666">0</span>);
    }
    <span style="color: #008000; font-weight: bold">if</span>(paddle <span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> paddle<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> windowWidth)
    {
        paddle<span style="color: #666666">-&gt;</span>setXPos(windowWidth<span style="color: #666666">-</span>paddle<span style="color: #666666">-&gt;</span>getWidth());
    }
</pre></div>
SDL2 provides a function called "SDL_HasIntersection" which will return a true/false if two rectangles overlap which is
what collisions are. So first we need to create two rectangles that represent the regions of our ball and paddle
and pass them into the SDL2 function. To get these regions we extract the rectangles from the paddle and ball game objects. Each game object
has an ArcadeTexture (image) which has rectangle that can be accessed with "getImageDestination()" as shown in the first two lines.
<br></br>
We say if the ball and paddle collide then we want to set the ball position to the top of the paddle (so that it doesn't render inside the paddle)
and reverse the y velocity just as we did when the ball hit the bottom of the window. We also want to change the x velocity. If you have ever played brick 
breaker you will know that the ball doesn't just perfectly bounce off the paddle, it bounces more to the left or right based on where it hit the paddle. For example,
if the ball hit the right corner of the paddle its x velocity will increase by a lot. This adds randomness to our game because otherwise the entire game
would play out the same way every time if it just reflected off the paddle.
<br></br>
We change the x velocity accordingly by finding the distance the center of the ball is from the center of the paddle and calling it ratio. For example, if the ball hits the 
center of the paddle this value will be 0. We then set the x velocity to this ratio divided by 4 (4 just happened to be a value that worked well and made the game have a nice feel to it).
Finally we need to make sure the paddle can't move off of the screen so we set the position back to "0" or "screenWidth - paddle width" if it moves past these values
so that it will never go off of the screen.
<br></br>
<h5>3. Redefine the node to link the game object and screen </h5>
The final step is to actually create the paddle object and add it to the game through the GameNode where all the initialization happens.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// GameNode.h</span>

	<span style="color: #BC7A00">#include &quot;Node.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;SimpleGame.h&quot;</span>
	
	
	<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">GameNode</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Node
	{
		<span style="color: #A0A000">public:</span> 
			GameNode(SDL_Renderer<span style="color: #666666">*</span> renderer_in, Node<span style="color: #666666">*</span> parentNode_in)<span style="color: #666666">:</span> Node(renderer_in, parentNode_in)
			{
				SimpleGame<span style="color: #666666">*</span> game <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> SimpleGame;
				game<span style="color: #666666">-&gt;</span>addTextureToScreen(createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/brickBreakerScreen.png&quot;</span>, <span style="color: #008000">true</span>));
	
				Ball<span style="color: #666666">*</span> ball <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Ball;
				ArcadeTexture<span style="color: #666666">*</span> ballTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/ballTexture.png&quot;</span>);
	
				ball<span style="color: #666666">-&gt;</span>setGameObjectTexture(ballTexture);
				ball<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">true</span>);
	
				game<span style="color: #666666">-&gt;</span>addEntity(ball);
				game<span style="color: #666666">-&gt;</span>addMovingEntity(ball);
				game<span style="color: #666666">-&gt;</span>setBall(ball);
	
				Paddle<span style="color: #666666">*</span> paddle <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Paddle;
				ArcadeTexture<span style="color: #666666">*</span> paddleTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/paddleTexture.png&quot;</span>);
				
				paddle<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">true</span>);
				paddle<span style="color: #666666">-&gt;</span>setGameObjectTexture(paddleTexture);
				
				game<span style="color: #666666">-&gt;</span>addEntity(paddle);
				game<span style="color: #666666">-&gt;</span>addMovingEntity(paddle);
				game<span style="color: #666666">-&gt;</span>setPaddle(paddle);
	
				game<span style="color: #666666">-&gt;</span>setisNewGame(<span style="color: #008000">true</span>);
				game<span style="color: #666666">-&gt;</span>setGameState(<span style="color: #008000">true</span>);
	
				MenuScreen<span style="color: #666666">*</span> gameOverScreen <span style="color: #666666">=</span> createMenuScreen();
				gameOverScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/pauseScreenBackgroundTexture.png&quot;</span>, <span style="color: #008000">true</span>));
				ArcadeTexture<span style="color: #666666">*</span> gameOverText <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;GAME OVER&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
				gameOverText<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> gameOverText<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);
				gameOverScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(gameOverText);
	
				SimpleButton<span style="color: #666666">*</span> mainMenuButton2 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>,<span style="color: #BA2121">&quot;GAME MENU&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
				mainMenuButton2<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> mainMenuButton2<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">200</span>);
				mainMenuButton2<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_NODES, getParentNode()));
				gameOverScreen<span style="color: #666666">-&gt;</span>addButtonToScreen(mainMenuButton2);
	
				SimpleButton<span style="color: #666666">*</span> newGameButton <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;NEW GAME&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
				newGameButton<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> newGameButton<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">270</span>);
				newGameButton<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, game));
				
				gameOverScreen<span style="color: #666666">-&gt;</span>addButtonToScreen(newGameButton);
				game<span style="color: #666666">-&gt;</span>setGameOverScreen(gameOverScreen);
				
	<span style="color: #408080; font-style: italic">//////////////////////////////////////////////////////////////////////////////</span>
				MenuScreen<span style="color: #666666">*</span> pauseScreen <span style="color: #666666">=</span> createMenuScreen();
				pauseScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/pauseScreenBackgroundTexture.png&quot;</span>));
				ArcadeTexture<span style="color: #666666">*</span> pauseText <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>,<span style="color: #BA2121">&quot;PAUSE&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
				pauseText<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> pauseText<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);
				pauseScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(pauseText);
	
	
				SimpleButton<span style="color: #666666">*</span> resumeButton <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>,<span style="color: #BA2121">&quot;RESUME&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
				resumeButton<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> resumeButton<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">270</span>);
				resumeButton<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, game));
			   
				pauseScreen<span style="color: #666666">-&gt;</span>addButtonToScreen(resumeButton);
				game<span style="color: #666666">-&gt;</span>setPauseScreen(pauseScreen);
				
	
				<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(game);
				<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(pauseScreen);
				<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(gameOverScreen);
	
				<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>setCurrentScreen(game);
			}
	
			<span style="color: #B00040">void</span> enter()
			{
				setCurrentScreen((<span style="color: #666666">*</span>getScreenList())[<span style="color: #666666">0</span>]);
			}
	};
	</pre></div>
<br></br>
The first addition is here where we create and initialize the paddle object and add it to the screen. This is the same process
as we went through for ball so I won't explain it again.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">            Paddle<span style="color: #666666">*</span> paddle <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Paddle;
	ArcadeTexture<span style="color: #666666">*</span> paddleTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/paddleTexture.png&quot;</span>);
            
	paddle<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">true</span>);
	paddle<span style="color: #666666">-&gt;</span>setGameObjectTexture(paddleTexture);
	
	game<span style="color: #666666">-&gt;</span>addEntity(paddle);
	game<span style="color: #666666">-&gt;</span>addMovingEntity(paddle);
	game<span style="color: #666666">-&gt;</span>setPaddle(paddle);
</pre></div>

<br></br>
Next we want to add another screen to this node so that when our game ends we get a game over screen.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">            MenuScreen<span style="color: #666666">*</span> gameOverScreen <span style="color: #666666">=</span> createMenuScreen();
	gameOverScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/pauseScreenBackgroundTexture.png&quot;</span>, <span style="color: #008000">true</span>));
	ArcadeTexture<span style="color: #666666">*</span> gameOverText <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;GAME OVER&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
	gameOverText<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> gameOverText<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);
	gameOverScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(gameOverText);

	SimpleButton<span style="color: #666666">*</span> mainMenuButton2 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>,<span style="color: #BA2121">&quot;GAME MENU&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
	mainMenuButton2<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> mainMenuButton2<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">200</span>);
	mainMenuButton2<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_NODES, getParentNode()));
	gameOverScreen<span style="color: #666666">-&gt;</span>addButtonToScreen(mainMenuButton2);

	SimpleButton<span style="color: #666666">*</span> newGameButton <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;NEW GAME&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
	newGameButton<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> newGameButton<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">270</span>);
	newGameButton<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, game));
	
	gameOverScreen<span style="color: #666666">-&gt;</span>addButtonToScreen(newGameButton);
	game<span style="color: #666666">-&gt;</span>setGameOverScreen(gameOverScreen);
</pre></div>
The process for making this screen is layed out in lesson 2 when we created our menu system so I will not go into detail.
Basically we create the screen, create images and text that we want on that screen, and add the images and text to the screen.
Then we create buttons for the screen, set the position of the buttons, create and set actions for those buttons, then add the buttons to the screen.
Finally we add the screen to the node. 
<br></br>
<b>Important: </b>There is one new thing we must do which is actually add this screen to the game with "setGameOverScreen". It may seem
weird that a game screen has a menu screen as an attribute but every game screen should have a game over screen and a pause screen. 
<br></br>
We also want to create a pause screen. This will be very similar to the game over screen
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">            MenuScreen<span style="color: #666666">*</span> pauseScreen <span style="color: #666666">=</span> createMenuScreen();
	pauseScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/pauseScreenBackgroundTexture.png&quot;</span>));
	ArcadeTexture<span style="color: #666666">*</span> pauseText <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>,<span style="color: #BA2121">&quot;PAUSE&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
	pauseText<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> pauseText<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);
	pauseScreen<span style="color: #666666">-&gt;</span>addTextureToScreen(pauseText);


	SimpleButton<span style="color: #666666">*</span> resumeButton <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>,<span style="color: #BA2121">&quot;RESUME&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
	resumeButton<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> resumeButton<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">270</span>);
	resumeButton<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_SCREENS, game));
   
	pauseScreen<span style="color: #666666">-&gt;</span>addButtonToScreen(resumeButton);
	game<span style="color: #666666">-&gt;</span>setPauseScreen(pauseScreen);
</pre></div>
<br></br> Make sure to add these screens to the node.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(game);
	<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(pauseScreen);
	<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(gameOverScreen);
	</pre></div>	
<b>Important: </b>You must make sure that you add the game screen to the node first	because everytime
we enter the node we want this screen.

<br></br>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">void</span> <span style="color: #0000FF">enter</span>()
{
		setCurrentScreen((<span style="color: #666666">*</span>getScreenList())[<span style="color: #666666">0</span>]);
}
</pre></div>
We want to enter the game screen everytime we enter the node so we define the function "enterNode"
that will get called whenever we enter this node. It basically jsut sets the current screen to the first screen we added to the node as we did before.
<br></br>
Next let's create a basic root node that will allow us to go to this game from a menu screen. You should already have a root node so just change the code to this:
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// RootNode </span>
 
	<span style="color: #408080; font-style: italic">// include the files we need</span>
	<span style="color: #BC7A00">#include &quot;Node.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;MenuScreen.h&quot; </span>
	<span style="color: #BC7A00">#include &quot;SimpleButton.h&quot; </span>
	<span style="color: #BC7A00">#include &quot;GameNode.h&quot;</span>
	 
	<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">RootNode</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Node <span style="color: #408080; font-style: italic">// publicly inherits from Node</span>
	{
	<span style="color: #A0A000">private:</span>
	GameNode<span style="color: #666666">*</span> gameNode;
	
	<span style="color: #A0A000">public:</span>
		<span style="color: #408080; font-style: italic">// Constructor                                            // initializer list</span>
		RootNode(SDL_Renderer<span style="color: #666666">*</span> renderer_in, Node<span style="color: #666666">*</span> parentNode_in)<span style="color: #666666">:</span> Node(renderer_in, parentNode_in)
		{
			gameNode <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> GameNode(getRenderer(), <span style="color: #008000; font-weight: bold">this</span>);
			children.push_back(gameNode);
			<span style="color: #408080; font-style: italic">// first create screens for the node</span>
			MenuScreen<span style="color: #666666">*</span> screen1 <span style="color: #666666">=</span> createMenuScreen();
	 
			<span style="color: #408080; font-style: italic">// create images and text to put on the screen using an ArcadeTexture object</span>
			ArcadeTexture<span style="color: #666666">*</span> screen1Background <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;rootNodeImages/rootNodeScreenBackground.png&quot;</span>, <span style="color: #008000">true</span>);
	
			ArcadeTexture<span style="color: #666666">*</span> screen1Text <span style="color: #666666">=</span> createSimpleText(renderer_in, <span style="color: #BA2121">&quot;fonts/retro/italic.ttf&quot;</span>, <span style="color: #666666">100</span>, <span style="color: #BA2121">&quot;MAIN MENU&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>);
			screen1Text<span style="color: #666666">-&gt;</span>setPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> screen1Text<span style="color: #666666">-&gt;</span>getW() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, <span style="color: #666666">25</span>);
	
			<span style="color: #408080; font-style: italic">// add the images and text to the screen after creating them</span>
			screen1<span style="color: #666666">-&gt;</span>addTextureToScreen(screen1Background);
			screen1<span style="color: #666666">-&gt;</span>addTextureToScreen(screen1Text);
	 
			<span style="color: #408080; font-style: italic">// make a text button to put on the screen1</span>
			SimpleButton<span style="color: #666666">*</span> button1 <span style="color: #666666">=</span> createSimpleTextButton(renderer_in, <span style="color: #BA2121">&quot;fonts/pixel/classic.ttf&quot;</span>, <span style="color: #666666">30</span>, <span style="color: #BA2121">&quot;PLAY SIMPLE GAME&quot;</span>, <span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>);
			button1<span style="color: #666666">-&gt;</span>setButtonPosition(windowWidth <span style="color: #666666">/</span> <span style="color: #666666">2</span> <span style="color: #666666">-</span> button1<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">/</span> <span style="color: #666666">2</span>, screen1Text<span style="color: #666666">-&gt;</span>getY() <span style="color: #666666">+</span> screen1Text<span style="color: #666666">-&gt;</span>getH() <span style="color: #666666">+</span> <span style="color: #666666">50</span>);
	
			<span style="color: #408080; font-style: italic">// give this button an action</span>
			button1<span style="color: #666666">-&gt;</span>setButtonAction(createAction(MOVE_NODES, gameNode));
		   
			<span style="color: #408080; font-style: italic">// add the buttons to their screens</span>
			screen1<span style="color: #666666">-&gt;</span>addButtonToScreen(button1);
	 
			<span style="color: #408080; font-style: italic">// add the screens to the node</span>
			<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>addScreen(screen1);
	
			<span style="color: #408080; font-style: italic">// tell the node the current screen</span>
			<span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">-&gt;</span>setCurrentScreen(screen1);
		}
	};
	</pre></div>
This is a simple Root Node with one screen and one button to go to the gameNode. Notice a few new things. We must #include "GameNode.h"
at the top so that we can access it. Next we need to add a pointer to a GameNode as an attribute of this node because it is the child node
and parents have their children nodes as attributes. Finally we create the gameNode in the first line of the constructor 
and add it as a child with the children.push_back(gameNode);. This basically adds the gameNode to
the list of children nodes that Root Node has. That is it for Root node.
<br></br>
The final thing we need to do is change some things in main.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// main.cpp</span>
	<span style="color: #BC7A00">#include &quot;SDL.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;SDL_mixer.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;SDL_ttf.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;SDL_image.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
	<span style="color: #BC7A00">#include &lt;stdio.h&gt;</span>
	<span style="color: #BC7A00">#include &quot;RootNode.h&quot;</span>
	
	<span style="color: #408080; font-style: italic">// declaring pointer to objects that main needs, initialize to null</span>
	<span style="color: #408080; font-style: italic">// these objects are created in main because they are needed for the outermost loop</span>
	SDL_Window<span style="color: #666666">*</span> arcadeSystemWindow <span style="color: #666666">=</span> nullptr;
	SDL_Renderer<span style="color: #666666">*</span> arcadeSystemRenderer <span style="color: #666666">=</span> nullptr;
	TTF_Font<span style="color: #666666">*</span> font <span style="color: #666666">=</span> nullptr;
	
	<span style="color: #408080; font-style: italic">// initialization function, initializes above objects and calls some SDL initialization functions</span>
	<span style="color: #B00040">bool</span> <span style="color: #0000FF">init</span>()
	{
		<span style="color: #408080; font-style: italic">// Initialization flag</span>
		<span style="color: #B00040">bool</span> success <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	
		<span style="color: #408080; font-style: italic">// Initialize SDL</span>
		<span style="color: #008000; font-weight: bold">if</span> (SDL_Init(SDL_INIT_VIDEO <span style="color: #666666">|</span> SDL_INIT_AUDIO) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
		{
			printf(<span style="color: #BA2121">&quot;SDL could not initialize! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
			success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span>
		{
			<span style="color: #408080; font-style: italic">// Create window in the center of the screen</span>
			arcadeSystemWindow <span style="color: #666666">=</span> SDL_CreateWindow(<span style="color: #BA2121">&quot;Arcade System&quot;</span>, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, windowWidth, windowHeight, SDL_WINDOW_SHOWN);
			<span style="color: #008000; font-weight: bold">if</span> (arcadeSystemWindow <span style="color: #666666">==</span> <span style="color: #008000">NULL</span>)	
			{
				printf(<span style="color: #BA2121">&quot;Window could not be created! SDL Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, SDL_GetError());
				success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span>
			{
				<span style="color: #408080; font-style: italic">// initialize renderer, set the background as white for the wwindow, sync the renderer with the monitor refresh rate</span>
				arcadeSystemRenderer <span style="color: #666666">=</span> SDL_CreateRenderer(arcadeSystemWindow, <span style="color: #666666">-1</span>, SDL_RENDERER_ACCELERATED <span style="color: #666666">|</span> SDL_RENDERER_PRESENTVSYNC);
				SDL_SetRenderDrawColor(arcadeSystemRenderer, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>, <span style="color: #666666">0xFF</span>);
			}
			<span style="color: #408080; font-style: italic">// Initialize SDL_mixer</span>
			<span style="color: #008000; font-weight: bold">if</span> (Mix_OpenAudio(<span style="color: #666666">44100</span>, MIX_DEFAULT_FORMAT, <span style="color: #666666">2</span>, <span style="color: #666666">2048</span>) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
			{
				printf(<span style="color: #BA2121">&quot;SDL_mixer could not initialize! SDL_mixer Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, Mix_GetError());
				success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			}
			<span style="color: #408080; font-style: italic">// initialize true type font </span>
			<span style="color: #008000; font-weight: bold">if</span> (TTF_Init() <span style="color: #666666">==</span> <span style="color: #666666">-1</span>)
			{
				printf(<span style="color: #BA2121">&quot;SDL_ttf could not initialize! SDL_ttf Error: %s</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>, TTF_GetError());
				success <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			}
	
		}
		<span style="color: #008000; font-weight: bold">return</span> success;
	}
	
	<span style="color: #B00040">int</span> <span style="color: #0000FF">main</span>(<span style="color: #B00040">int</span> argc, <span style="color: #B00040">char</span><span style="color: #666666">*</span> argv[])
	{	
		<span style="color: #408080; font-style: italic">// first call initialization</span>
		<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>init())
		{
			printf(<span style="color: #BA2121">&quot;Failed to initialize!</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
		}
		<span style="color: #408080; font-style: italic">// if initializes successfully then continue</span>
		<span style="color: #008000; font-weight: bold">else</span>
		{
			<span style="color: #B00040">bool</span> quit <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			RootNode rootNode(arcadeSystemRenderer, nullptr);
			Node<span style="color: #666666">*</span> currentNode <span style="color: #666666">=</span> <span style="color: #666666">&amp;</span>rootNode;
			<span style="color: #008000; font-weight: bold">while</span> (<span style="color: #666666">!</span>quit)
			{	
				<span style="color: #408080; font-style: italic">// handle events on queue until empty</span>
				SDL_Event e;
				<span style="color: #008000; font-weight: bold">while</span> (SDL_PollEvent(<span style="color: #666666">&amp;</span>e) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)
				{
					Action newAction <span style="color: #666666">=</span> currentNode<span style="color: #666666">-&gt;</span>update(<span style="color: #666666">&amp;</span>e);
					<span style="color: #408080; font-style: italic">// user requests quit by clicking window X</span>
					<span style="color: #008000; font-weight: bold">if</span> (e.type <span style="color: #666666">==</span> SDL_QUIT)
					{
						quit <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
					}
	
					<span style="color: #008000; font-weight: bold">if</span>(newAction.actionName <span style="color: #666666">==</span> MOVE_NODES)
					{
						currentNode<span style="color: #666666">-&gt;</span>exitNode();
						currentNode <span style="color: #666666">=</span> (Node<span style="color: #666666">*</span>)(newAction.actionParameter);
						currentNode<span style="color: #666666">-&gt;</span>enter();
					}
				}
				currentNode<span style="color: #666666">-&gt;</span>update(nullptr);
				currentNode<span style="color: #666666">-&gt;</span>render(arcadeSystemRenderer);
				SDL_RenderPresent(arcadeSystemRenderer);
			}
		}
		
		<span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;
	}
	</pre></div>
First we make sure the #include "RootNode.h" at the top.
Then we change some things in the main function:
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #B00040">int</span> <span style="color: #0000FF">main</span>(<span style="color: #B00040">int</span> argc, <span style="color: #B00040">char</span><span style="color: #666666">*</span> argv[])
	{	
		<span style="color: #408080; font-style: italic">// first call initialization</span>
		<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>init())
		{
			printf(<span style="color: #BA2121">&quot;Failed to initialize!</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
		}
		<span style="color: #408080; font-style: italic">// if initializes successfully then continue</span>
		<span style="color: #008000; font-weight: bold">else</span>
		{
			<span style="color: #B00040">bool</span> quit <span style="color: #666666">=</span> <span style="color: #008000">false</span>;
			RootNode rootNode(arcadeSystemRenderer, nullptr); <span style="color: #408080; font-style: italic">// create a RootNode object</span>
			Node<span style="color: #666666">*</span> currentNode <span style="color: #666666">=</span> <span style="color: #666666">&amp;</span>rootNode; <span style="color: #408080; font-style: italic">// set the current node pointer to the address of the rootNode</span>
			<span style="color: #008000; font-weight: bold">while</span> (<span style="color: #666666">!</span>quit)
			{	
				<span style="color: #408080; font-style: italic">// handle events on queue until empty</span>
				SDL_Event e;
				<span style="color: #008000; font-weight: bold">while</span> (SDL_PollEvent(<span style="color: #666666">&amp;</span>e) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)
				{
					Action newAction <span style="color: #666666">=</span> currentNode<span style="color: #666666">-&gt;</span>update(<span style="color: #666666">&amp;</span>e); <span style="color: #408080; font-style: italic">// store the action that is returned by the currentNode&#39;s update</span>
					<span style="color: #408080; font-style: italic">// user requests quit by clicking window X</span>
					<span style="color: #008000; font-weight: bold">if</span> (e.type <span style="color: #666666">==</span> SDL_QUIT)
					{
						quit <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
					}
	
	<span style="color: #408080; font-style: italic">// check if the action is to move node</span>
				<span style="color: #008000; font-weight: bold">if</span>(newAction.actionName <span style="color: #666666">==</span> MOVE_NODES)
					{
						currentNode<span style="color: #666666">-&gt;</span>exitNode();
						currentNode <span style="color: #666666">=</span> (Node<span style="color: #666666">*</span>)(newAction.actionParameter);
						currentNode<span style="color: #666666">-&gt;</span>enter();
					}
				}
				currentNode<span style="color: #666666">-&gt;</span>update(nullptr);
				currentNode<span style="color: #666666">-&gt;</span>render(arcadeSystemRenderer);
				SDL_RenderPresent(arcadeSystemRenderer);
			}
		}
		
		<span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;
	}
	</pre></div>
	
The first thing we need to change is that we need to create a RootNode oject instead of a GameNode object.
Then we make the currentNode a pointer to this rootNode object.	Then in the gui loop we store the action that is returned 
by currentNode's update. Then we check if this action is to change nodes or not. If it is we exit the current node,
set the currentNode to the parameter of the action returned and enter that node. Also, because currentNode is pointer we must change
all the "." to "->". This was the final step. All the code for these file is posted at this link:
<br></br>
https://github.com/geffencooper/lesson_04_code

<br></br>
<br></br>
<h4>Don't worry if the new stuff we put in main doesn't make sense. That is just how you change nodes. Before we only had
one node so we didn't need to do anything in main but now we have multipl nodes. For the final
version of the project I will provide the main function so you don't need to worry about it. All you need to do
or change is the nodes themselves and customize them however you want.</h4>



		</p>
	</p>
	<hr>
	<a name="Lesson5"></a>
	<h2>Lesson 5: Finishing the Arcade</h2>
	<P>
		Last lesson we added the paddle to our game and created a simple "main menu"
		screen to transition into the game. So as of now we have two nodes in our arcade,
		the RootNode and the GameNode. In this final lesson we will be finishing the game by adding bricks
		and then adding a few more nodes to complete the arcade system.

		<h5> Finishing the game</h5>
		To finish the game we will be adding bricks and programming the collision detection for the bricks.

		<br></br>
		First we need to create the Brick class in order to add brick game objects
		<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #BC7A00">#ifndef BRICK_H</span>
<span style="color: #BC7A00">#define BRICK_H</span>
<span style="color: #BC7A00">#include &quot;Entity.h&quot;</span>
<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Brick</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> Entity
{
<span style="color: #A0A000">public:</span>
	Brick();
	<span style="color: #B00040">void</span> <span style="color: #0000FF">update</span>(SDL_Event<span style="color: #666666">*</span> event);
};
<span style="color: #BC7A00">#endif</span>
</pre></div>
The process for creating this class is exactly the same as before. In fact, this is the simplest
game object you can make because as seen below, the contructor and update method
are actually empty because bricks don't move.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #BC7A00">#include &quot;Brick.h&quot;</span>

Brick<span style="color: #666666">::</span>Brick(){}
<span style="color: #B00040">void</span> Brick<span style="color: #666666">::</span>update(SDL_Event<span style="color: #666666">*</span> event) {}
</pre></div>
The only thing the brick does is sit on the screen and get checked for collisions with the ball
which will be handled by the GameScreen.
<br></br>
If you remember from the past two lessons, the next step when adding functionality to a game after adding
a game object is to edit the logic in the GameScreen. Below all we change is add <i>#include "Brick.h"</i> to the SimpleGame.h file 
so that we can use bricks in our game. Unlike before we will not have bricks as member variables of
the SimpleGame class. You can create a 2D array of bricks if you wish but I decided to keep
it simple and not have bricks be member variables of the class because they are already stored in the list of entities.



<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// SimpleGame.h</span>

	<span style="color: #BC7A00">#ifndef SIMPLE_GAME_H</span>
	<span style="color: #BC7A00">#define SIMPLE_GAME_H</span>
	
	<span style="color: #BC7A00">#include &quot;GameScreen.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Ball.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Paddle.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Brick.h&quot;</span>
	<span style="color: #BC7A00">#include &quot;Config.h&quot;</span>
	
	<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">SimpleGame</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">public</span> GameScreen
	{
		<span style="color: #A0A000">public:</span>
			SimpleGame();
			Action <span style="color: #0000FF">update</span>(SDL_Event<span style="color: #666666">*</span> event);
			<span style="color: #B00040">void</span> <span style="color: #0000FF">logic</span>();
	
			<span style="color: #B00040">void</span> <span style="color: #0000FF">newGame</span>();
	
			<span style="color: #B00040">void</span> <span style="color: #0000FF">setBall</span>(Ball<span style="color: #666666">*</span> ball_in) {ball <span style="color: #666666">=</span> ball_in;}
			Ball<span style="color: #666666">*</span> <span style="color: #0000FF">getBall</span>() {<span style="color: #008000; font-weight: bold">return</span> ball;}
	
			<span style="color: #B00040">void</span> <span style="color: #0000FF">setPaddle</span>(Paddle<span style="color: #666666">*</span> paddle_in) {paddle <span style="color: #666666">=</span> paddle_in;}
			Paddle<span style="color: #666666">*</span> <span style="color: #0000FF">getPaddle</span>() {<span style="color: #008000; font-weight: bold">return</span> paddle;}
	
		<span style="color: #A0A000">private:</span>
			Ball<span style="color: #666666">*</span> ball;
			Paddle<span style="color: #666666">*</span> paddle;
	};
	
	<span style="color: #BC7A00">#endif</span>
	</pre></div>
	
<br></br>
The big change in this lesson is adding collision detection in the logic method of SimpleGame.cpp.
You can see a little more below we have about 200 lines of code just for the collision detection for bricks. 

<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">
	<span style="color: #B00040">bool</span> <span style="color: #0000FF">ccw</span>(point A, point B, point C)
	{
		<span style="color: #008000; font-weight: bold">return</span> ((B.y <span style="color: #666666">-</span> A.y) <span style="color: #666666">*</span> (C.x <span style="color: #666666">-</span> B.x) <span style="color: #666666">-</span> (A.x <span style="color: #666666">-</span> B.x) <span style="color: #666666">*</span> (B.y <span style="color: #666666">-</span> C.y)) <span style="color: #666666">&gt;</span> <span style="color: #666666">0</span>;
	}
	
	<span style="color: #B00040">bool</span> <span style="color: #0000FF">intersect</span>(point A, point B, point C, point D)
	{
		<span style="color: #008000; font-weight: bold">return</span> ccw(A, C, D) <span style="color: #666666">!=</span> ccw(B, C, D) <span style="color: #666666">&amp;&amp;</span> ccw(A, B, C) <span style="color: #666666">!=</span> ccw(A, B, D);
	}
	</pre></div>
	
	
These are two helper functions I created that we will need for the collision detection. One checks
if three points are oriented counterclockwise or not and the other uses that information to determine
if two lines (given the endpoints of those lines "AB" and "CD") intersect. I will not go into detail but I put
an image below of two cases. I reccommend you try hand executing the code from intersect to see how it works.
You don't need to hand execute CCW because you can just see if three points are oriented counter clockwise given their 
order. If you are curious, the way CCW works is it takes the cross product of the vectors formed by BA and BC. If it
is positive then it is counter clockwise and if it is negative it is clockwise. If you draw it you will see how
this is just an implementation of the right hand rule.

<img src="images/intersect.png" alt="" style="float: left; width: 100%; margin-right: 1%;">

<br></br>
This next part is where the collision detection happens. This code is inside the SimpleGame::logic 
function right after the paddle collision detection. See the explanation below.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// code inserted at the bottom of SimpleGame::logic </span>

	<span style="color: #B00040">int</span> maxCollisionArea <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
	<span style="color: #B00040">int</span> maxIndex <span style="color: #666666">=</span> <span style="color: #666666">-1</span>;
	<span style="color: #B00040">int</span> w_max <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
	<span style="color: #B00040">int</span> h_max <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
	<span style="color: #B00040">int</span> j;
	<span style="color: #B00040">int</span> numFalse <span style="color: #666666">=</span> <span style="color: #666666">0</span>;

	<span style="color: #408080; font-style: italic">// find the brick with the largest collision area</span>
	<span style="color: #008000; font-weight: bold">for</span> (j <span style="color: #666666">=</span> <span style="color: #666666">2</span>; j <span style="color: #666666">&lt;</span> getEntities()<span style="color: #666666">-&gt;</span>size(); j<span style="color: #666666">++</span>)
	{
        <span style="color: #408080; font-style: italic">// if collided then state should be false, keep track so know when game over</span>
		<span style="color: #008000; font-weight: bold">if</span> ((<span style="color: #666666">*</span>getEntities())[j]<span style="color: #666666">-&gt;</span>getState() <span style="color: #666666">==</span> <span style="color: #008000">false</span>)
		{
			numFalse <span style="color: #666666">+=</span> <span style="color: #666666">1</span>;
			<span style="color: #008000; font-weight: bold">continue</span>;
		}

		SDL_Rect ballRegion <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();
		SDL_Rect brickRegion <span style="color: #666666">=</span> (<span style="color: #666666">*</span>getEntities())[j]<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();

		<span style="color: #008000; font-weight: bold">if</span> (SDL_HasIntersection(<span style="color: #666666">&amp;</span>ballRegion, <span style="color: #666666">&amp;</span>brickRegion))
		{
			SDL_Rect collisionRect;
			SDL_IntersectRect(<span style="color: #666666">&amp;</span>ballRegion, <span style="color: #666666">&amp;</span>brickRegion, <span style="color: #666666">&amp;</span>collisionRect);
			<span style="color: #B00040">int</span> w <span style="color: #666666">=</span> collisionRect.w;
			<span style="color: #B00040">int</span> h <span style="color: #666666">=</span> collisionRect.h;
			<span style="color: #008000; font-weight: bold">if</span> (h <span style="color: #666666">*</span> w <span style="color: #666666">&gt;</span> maxCollisionArea)
			{
				maxCollisionArea <span style="color: #666666">=</span> h <span style="color: #666666">*</span> w;
				maxIndex <span style="color: #666666">=</span> j;
				w_max <span style="color: #666666">=</span> w;
				h_max <span style="color: #666666">=</span> h;
			}

		}
	}
	j <span style="color: #666666">=</span> maxIndex;

    <span style="color: #408080; font-style: italic">// if set ball position</span>
	<span style="color: #B00040">bool</span> hasMoved <span style="color: #666666">=</span> <span style="color: #008000">false</span>;

	<span style="color: #408080; font-style: italic">// for that brick with the largest collision area do the following:</span>
	<span style="color: #008000; font-weight: bold">if</span> (j <span style="color: #666666">&gt;=</span> <span style="color: #666666">2</span>)
	{
        Brick<span style="color: #666666">*</span> currentBrick <span style="color: #666666">=</span> (Brick<span style="color: #666666">*</span>)(<span style="color: #666666">*</span>getEntities())[j];
		<span style="color: #408080; font-style: italic">// first find the corner of the ball that collided</span>
		<span style="color: #B00040">int</span> xCorner <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
		<span style="color: #B00040">int</span> yCorner <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
		currentBrick<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">false</span>);

		<span style="color: #408080; font-style: italic">//BRC:  </span>
		<span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick left side</span>
			ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span>  <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick left side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above brick top side,</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below the brick top side</span>
		{
			xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth();
			yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight();
		}

		<span style="color: #408080; font-style: italic">//TRC:</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick left side</span>
			ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span>  <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick left side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above the brick bottom side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below brick bottom side</span>
		{
			xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth();
			yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos();
		}

		<span style="color: #408080; font-style: italic">// BLC:</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick right side</span>
			ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick right side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above brick top side,</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below the brick top side</span>
		{
			xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos();
			yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight();
		}

		<span style="color: #408080; font-style: italic">// TLC:</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick right side</span>
			ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick right side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above the brick bottom side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below brick bottom side</span>
		{
			xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos();
			yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos();
		}
		<span style="color: #408080; font-style: italic">//---------------------------</span>

		<span style="color: #408080; font-style: italic">// if two corners collide then one of the following is true</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball right side right of brick left side</span>
			ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos()) <span style="color: #408080; font-style: italic">// ball left side left of brick left side</span>
		{
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball right side right of brick right side</span>
			ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth()) <span style="color: #408080; font-style: italic">// ball left side left of brick right side</span>
		{
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball bottom side is below brick top side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// ball top side above brick top side</span>
		{
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball bottom side is below brick bottom side</span>
			ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// ball top side is above brick bottom side</span>
		{
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}

        <span style="color: #408080; font-style: italic">// prior position</span>
		<span style="color: #B00040">int</span> xPosTemp <span style="color: #666666">=</span> xCorner <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getXVelocity();
		<span style="color: #B00040">int</span> yPosTemp <span style="color: #666666">=</span> yCorner <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getYVelocity();

        <span style="color: #408080; font-style: italic">// is right on the line</span>
		<span style="color: #008000; font-weight: bold">if</span> (yPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
		{
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (yPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
		{
			printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (xPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
		{
			printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (xPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
		{
			printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
		}

		point ball_init <span style="color: #666666">=</span> { xPosTemp, yPosTemp };
		point ball_final <span style="color: #666666">=</span> { xCorner, yCorner };

		point R_TLC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() };
		point R_TRC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() };
		point R_BLC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() };
		point R_BRC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() };

		<span style="color: #408080; font-style: italic">// intersects top</span>
		<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_TLC, R_TRC))
		{
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		}

		<span style="color: #408080; font-style: italic">// intersects bottom</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_BLC, R_BRC))
		{
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		}

		<span style="color: #408080; font-style: italic">// intersects left</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_TLC, R_BLC))
		{
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
		}

		<span style="color: #408080; font-style: italic">// intersects right</span>
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_TRC, R_BRC))
		{
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
		}
		<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (h_max <span style="color: #666666">==</span> w_max)
		{
			ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getXVelocity());
			ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getYVelocity());
			ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		}
	}
</pre></div>
Below I will dissect what all this code means but know that this code is not very
efficient and probably redundant but it works very well for our purposes. One difficult aspect of
collision detection is making sure you catch all the edge cases. You might wonder why collisions for balls
and bricks are more complicated than before with the paddle or he walls. It is because the ball can not only intersect
on every side of the brick but also because the ball can intersect with multiple bricks.
<br></br> 
Another important thing to note is that our collision detection will only work for relatively low speeds which for this example is the 
max dimension of our moving entity (max dimension of the ball is 15 pixels so max speed is 15 pixels per frame).
The reason for this is so that we can actually detect the intersection of rectangles and avoid the weird case of having our
ball go completely inside of our brick which would happen at speeds higher than our max dimension. Also, speeds
that high are very difficult to see and react to so it is not really limiting our game anyways.
<br></br>

<h5>High level logic of the code</h5>
Before jumping into the code it will be helpful to understand what it is supposed to do.
The strategy is essentially the same as before, if the ball collides with the right or left side
of something then reposition it and invert the x velocity and if the ball collides with the top or bottom side
of something then reposition it and invert the y velocity. So why does it take 200 lines of code then? It is because of edge cases.
Most of the time only a small portion of the collision detection will need to be executed but every once in
a while the collision will be an edge case and if we don't account for it the animation will appear "glitchy."
<ol>
	<li>
		<b>Determine which brick the ball collided with</b>: To do this we will just iterate through every single
		brick and check if the ball ArcadeTexture intersects with it. This is inefficient but very simple
		to implement and works well. One edge case we need to account for is if we collide with multiple bricks. For simplicity,
		we will say we only want to collide with one brick even if we collide with two. If you want you can add code to handle collisions with multiple bricks. <br></br>
	</li>
	<li>
		<b>Determine which side of the brick the ball collided with</b>: This part is the same idea as before where we adjust the X and Y position and
		velocity accordingly based on where we collide (top, bottom, left, right) except it is not trivial to actually find where the ball collides with the brick.
		This is what most of the code is. Essentially we need to find which corner of the ball collides with the brick and then trace a vector from one frame
		earlier to see which side of the brick it intersects with. There are a few edge cases we must account for as well. <br></br>
	</li>
	<li>
		<b>Handle the collision Accordingly</b>: Once we find the correct collision side we can handle the
		collision like we did before, by adjusting the position and inverting the velocity.
	</li>
</ol> 

<p>
	See this image below for an example of why the collision detection is not trivial. In this diagram, the red rectangle is the brick
	and the black square is the ball. The grey squares represent the ball one frame earlier.
	<br></br> 
	A naive collision detection method is <i>to compare the collision width and height (height and width of the yellow rectangle). If the collision width is bigger than the collision height
	then it is a "vertical collision" and if the collision height is bigger than the collision width it is a "horizontal collision".</i> The problem with this
	approach is that it doesn't account for collisions like the edge case seen below. It will work for the "simple case" shown below because if you recall our ball will never move
	faster than its max dimension so it makes sense to say that the collision width should be larger for vertical collisions and the collision
	height should be larger for horizontal collisions (take a second to think about what this statement means and how it is relavent to max speed).

	<br></br> 
	The edge case seen below happens quite often and requires a more involved method than the "naive method" I described above. What makes
	the edge case shown tricky is that given only the present state of the ball (the black square), it is impossible to know if it came from the bottom or the right.
	We must use the prior state (the grey square) of the ball one frame earlier to see how it moved to the current position. I will get into specifics below but that
	is where the bulk of the code is.
	<img src="images/brickCollision.png" alt="" style="float: left; width: 100%; margin-right: 1%;">
	<br></br> 
	<b>The corresponding code for step one:</b>
	<br></br> 
	We want to iterate through all the bricks which we will see later are entities 2-50 and find the one with the largest collision area (the yellow rectangle). This
	brick will be the one we collide with. In the case where the ball collides with multiple rectangles and the collision areas are equal, the first one we detect will just
	be the brick we collide with. Again we use the SDL functions for detecting collisions between two rectangles we we must extract from each ArcadeTexture.
	Once we iterate through all the rectangles we set j to the index of the brick with the max collision area.
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">
		<span style="color: #B00040">int</span> maxCollisionArea <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
		<span style="color: #B00040">int</span> maxIndex <span style="color: #666666">=</span> <span style="color: #666666">-1</span>;
		<span style="color: #B00040">int</span> w_max <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
		<span style="color: #B00040">int</span> h_max <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
		<span style="color: #B00040">int</span> j;
		<span style="color: #B00040">int</span> numFalse <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
	
		<span style="color: #408080; font-style: italic">// find the brick with the largest collision area</span>
		<span style="color: #008000; font-weight: bold">for</span> (j <span style="color: #666666">=</span> <span style="color: #666666">2</span>; j <span style="color: #666666">&lt;</span> getEntities()<span style="color: #666666">-&gt;</span>size(); j<span style="color: #666666">++</span>)
		{
			<span style="color: #408080; font-style: italic">// if collided then state should be false, keep track so know when game over</span>
			<span style="color: #008000; font-weight: bold">if</span> ((<span style="color: #666666">*</span>getEntities())[j]<span style="color: #666666">-&gt;</span>getState() <span style="color: #666666">==</span> <span style="color: #008000">false</span>)
			{
				numFalse <span style="color: #666666">+=</span> <span style="color: #666666">1</span>;
				<span style="color: #008000; font-weight: bold">continue</span>;
			}
	
			SDL_Rect ballRegion <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();
			SDL_Rect brickRegion <span style="color: #666666">=</span> (<span style="color: #666666">*</span>getEntities())[j]<span style="color: #666666">-&gt;</span>getGameObjectTexture()<span style="color: #666666">-&gt;</span>getImageDestination();
	
			<span style="color: #008000; font-weight: bold">if</span> (SDL_HasIntersection(<span style="color: #666666">&amp;</span>ballRegion, <span style="color: #666666">&amp;</span>brickRegion))
			{
				SDL_Rect collisionRect;
				SDL_IntersectRect(<span style="color: #666666">&amp;</span>ballRegion, <span style="color: #666666">&amp;</span>brickRegion, <span style="color: #666666">&amp;</span>collisionRect);
				<span style="color: #B00040">int</span> w <span style="color: #666666">=</span> collisionRect.w;
				<span style="color: #B00040">int</span> h <span style="color: #666666">=</span> collisionRect.h;
				<span style="color: #008000; font-weight: bold">if</span> (h <span style="color: #666666">*</span> w <span style="color: #666666">&gt;</span> maxCollisionArea)
				{
					maxCollisionArea <span style="color: #666666">=</span> h <span style="color: #666666">*</span> w;
					maxIndex <span style="color: #666666">=</span> j;
					w_max <span style="color: #666666">=</span> w;
					h_max <span style="color: #666666">=</span> h;
				}
	
			}
		}
		j <span style="color: #666666">=</span> maxIndex;
	</pre></div>
	<br></br> 
	<b>The corresponding code for step two and three:</b>
	<br></br> 
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">        <span style="color: #408080; font-style: italic">// if have adjusted ball position</span>
		<span style="color: #B00040">bool</span> hasMoved <span style="color: #666666">=</span> <span style="color: #008000">false</span>;

		<span style="color: #408080; font-style: italic">// for that brick with the largest collision area do the following:</span>
		<span style="color: #008000; font-weight: bold">if</span> (j <span style="color: #666666">&gt;=</span> <span style="color: #666666">2</span>)
		{
					Brick<span style="color: #666666">*</span> currentBrick <span style="color: #666666">=</span> (Brick<span style="color: #666666">*</span>)(<span style="color: #666666">*</span>getEntities())[j];
			<span style="color: #408080; font-style: italic">// first find the corner of the ball that collided</span>
			<span style="color: #B00040">int</span> xCorner <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
			<span style="color: #B00040">int</span> yCorner <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
			currentBrick<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">false</span>);
	
			<span style="color: #408080; font-style: italic">// Ball bottom right corner:  </span>
			<span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick left side</span>
				ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span>  <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick left side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above brick top side,</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below the brick top side</span>
			{
				xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth();
				yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight();
			}
	
			<span style="color: #408080; font-style: italic">// Ball top right corner:</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick left side</span>
				ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span>  <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick left side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above the brick bottom side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below brick bottom side</span>
			{
				xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth();
				yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos();
			}
	
			<span style="color: #408080; font-style: italic">// Ball bottom left corner:</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick right side</span>
				ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick right side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above brick top side,</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below the brick top side</span>
			{
				xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos();
				yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight();
			}
	
			<span style="color: #408080; font-style: italic">// Ball top left corner:</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick right side</span>
				ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick right side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above the brick bottom side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below brick bottom side</span>
			{
				xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos();
				yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos();
			}
			<span style="color: #408080; font-style: italic">//---------------------------</span>
	
			<span style="color: #408080; font-style: italic">// if two corners collide then one of the following is true</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball right side right of brick left side</span>
				ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos()) <span style="color: #408080; font-style: italic">// ball left side left of brick left side</span>
			{
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball right side right of brick right side</span>
				ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth()) <span style="color: #408080; font-style: italic">// ball left side left of brick right side</span>
			{
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball bottom side is below brick top side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// ball top side above brick top side</span>
			{
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball bottom side is below brick bottom side</span>
				ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// ball top side is above brick bottom side</span>
			{
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
	
			<span style="color: #408080; font-style: italic">// prior position</span>
			<span style="color: #B00040">int</span> xPosTemp <span style="color: #666666">=</span> xCorner <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getXVelocity();
			<span style="color: #B00040">int</span> yPosTemp <span style="color: #666666">=</span> yCorner <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getYVelocity();
	
			<span style="color: #408080; font-style: italic">// is right on the line</span>
			<span style="color: #008000; font-weight: bold">if</span> (yPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
			{
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (yPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
			{
				printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (xPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
			{
				printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (xPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
			{
				printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
				hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
			}
	
			point ball_init <span style="color: #666666">=</span> { xPosTemp, yPosTemp };
			point ball_final <span style="color: #666666">=</span> { xCorner, yCorner };
	
			point R_TLC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() };
			point R_TRC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() };
			point R_BLC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() };
			point R_BRC <span style="color: #666666">=</span> { currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth(), currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() };
	
			<span style="color: #408080; font-style: italic">// intersects top</span>
			<span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_TLC, R_TRC))
			{
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			}
	
			<span style="color: #408080; font-style: italic">// intersects bottom</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_BLC, R_BRC))
			{
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			}
	
			<span style="color: #408080; font-style: italic">// intersects left</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_TLC, R_BLC))
			{
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			}
	
			<span style="color: #408080; font-style: italic">// intersects right</span>
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #666666">!</span>hasMoved <span style="color: #666666">&amp;&amp;</span> intersect(ball_init, ball_final, R_TRC, R_BRC))
			{
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (h_max <span style="color: #666666">==</span> w_max)
			{
				ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getXVelocity());
				ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> ball<span style="color: #666666">-&gt;</span>getYVelocity());
				ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
				ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
			}
	</pre></div>
	<br></br> 
	This is a lot of code so let's break it down. If you remember, we need to step one frame back and check how the ball collided with the brick. The first step then is to figure out which corner of the ball
	collided with the brick so we can track the ball's movement from the prior frame accordingly.
	<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">                <span style="color: #408080; font-style: italic">// if have adjusted ball position</span>
		<span style="color: #B00040">bool</span> hasMoved <span style="color: #666666">=</span> <span style="color: #008000">false</span>;

		<span style="color: #408080; font-style: italic">// for that brick with the largest collision area do the following:</span>
		<span style="color: #008000; font-weight: bold">if</span> (j <span style="color: #666666">&gt;=</span> <span style="color: #666666">2</span>)
		{
			Brick<span style="color: #666666">*</span> currentBrick <span style="color: #666666">=</span> (Brick<span style="color: #666666">*</span>)(<span style="color: #666666">*</span>getEntities())[j];
			<span style="color: #408080; font-style: italic">// first find the corner of the ball that collided</span>
			<span style="color: #B00040">int</span> xCorner <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
			<span style="color: #B00040">int</span> yCorner <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
			currentBrick<span style="color: #666666">-&gt;</span>setState(<span style="color: #008000">false</span>);
</pre></div>
First we create a boolean to store the state of whether we have handled our collision yet. Once we handle the collision
we don't want to execute any other collision checks. Next we check if the index of the brick we collided with is greater than or equal to 2.
If we don't collide with any bricks, j will be negative and this whole part will be skipped over. Otherwise, if there is a collision and we do
enter this if statement, we store the collision brick into a variable for conveniance, create variables to store the corner of the ball that collides with
the brick, and set the state of the collision brick to false so it will disapear from the screen when rendering.
<br></br>
Next we try to find which corner of the ball collides with the brick:
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">                        
<span style="color: #408080; font-style: italic">// Ball bottom right corner:  </span>
<span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick left side</span>
	ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span>  <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick left side</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above brick top side,</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below the brick top side</span>
{
	xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth();
	yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight();
}

<span style="color: #408080; font-style: italic">// Ball top right corner:</span>
<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick left side</span>
	ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span>  <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick left side</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above the brick bottom side</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below brick bottom side</span>
{
	xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth();
	yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos();
}

<span style="color: #408080; font-style: italic">// Ball bottom left corner:</span>
<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick right side</span>
	ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick right side</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above brick top side,</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below the brick top side</span>
{
	xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos();
	yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight();
}

<span style="color: #408080; font-style: italic">// Ball top left corner:</span>
<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 1. ball left side is to the left of the brick right side</span>
	ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 2. ball right side is to the right of the brick right side</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// 3. ball top side is above the brick bottom side</span>
	ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// 4. ball bottom side is below brick bottom side</span>
{
	xCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getXPos();
	yCorner <span style="color: #666666">=</span> ball<span style="color: #666666">-&gt;</span>getYPos();
}
</pre></div>
First we check the ball's bottom right corner. The only way that ONLY the ball's bottom right corner (not multiple corners) can collide with the brick is if 
four things are true. (This is noted in the code comments as well)
<ul>
	<li>
			ball left side is to the left of the brick left side
	</li>
	<li>
			ball right side is to the right of the brick left side
	</li>
	<li>
			ball top side is above brick top side
	</li>
	<li>
			ball bottom side is below the brick top side
	</li>
</ul>
This is clearly shown in the image below as well. The green arrows are just showing how each ball side is oriented relative to brick sides.
<img src="images/cornerCollision.png" alt="" style="float: left; width: 100%; margin-right: 1%;">
<br></br>

This process is exactly the same for the other three corners of the ball so I will not go into detail. A lot of this code is just repetetive checking 
so if you understand the logic of each section then you will understand all of it. Once we find the corner, we set assign that corner to the variables 
xCorner and yCorner.

<br></br>
There is an edge case however for finding the corners which is if multiple corners of the ball collide. However, this
edge case is actually makes the process much simpler because we can directly determine the side of the brick that the ball collides with which is what we are looking for. 
If none of the four cases above are true then we know two corners must have collided (take some time to think about why). This is shown below:
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// if two corners collide then one of the following is true</span>
	<span style="color: #408080; font-style: italic">// Ball right side collides</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball right side right of brick left side</span>
		ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos()) <span style="color: #408080; font-style: italic">// ball left side left of brick left side</span>
	{
		ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
	<span style="color: #408080; font-style: italic">// ball left side collides</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span> (ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball right side right of brick right side</span>
		ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth()) <span style="color: #408080; font-style: italic">// ball left side left of brick right side</span>
	{
		ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
	<span style="color: #408080; font-style: italic">// ball bottom side collides</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span> (ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball bottom side is below brick top side</span>
		ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos()) <span style="color: #408080; font-style: italic">// ball top side above brick top side</span>
	{
		ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
	<span style="color: #408080; font-style: italic">// ball top side collides</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span> (ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> ball<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&gt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #408080; font-style: italic">// ball bottom side is below brick bottom side</span>
		ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&lt;</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight()) <span style="color: #408080; font-style: italic">// ball top side is above brick bottom side</span>
	{
		ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
	</pre></div>
	
If no single corner collides, then two corners must have collided. If the bottom two corners collide as shown in the image, then the ball must have collided
with the top side of the brick and from there we know how to handle the collision as shown in the code. We do the same for the other 
three sides so I won't explain them all. Overall it is a lot of code but very redundant and you only need to understand how one of the cases work to understand them all.
<img src="images/cornerCase.png" alt="" style="float: left; width: 100%; margin-right: 1%;">

<br></br>
If two corner collide we can set the collisionState hasMoved to true and we are done but if only one corner collided we
need to move onto the next step which is to track the corner from one frame prior and create a vector and check which side of the brick this vector intersects with.
So as shown below we find the position of the collision corner one frame prior. However, there is an edge case we must account for. If we go one frame back and the x or y coordinate of the corner
is exactly on the line of the brick then we won't be able to detect an intersection. However, we will be able to determine which side of the brick
the ball collided based on this as shown below in the code and the image. If the corner in the prior frame is on the left
of the brick then it collided with the left side of the brick and we can adjust the position and velocity accordingly. We check this for all four cases.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// is right on the top line</span>
	<span style="color: #008000; font-weight: bold">if</span> (yPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
	{
		ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">-</span> h_max);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
<span style="color: #408080; font-style: italic">// is right on the bottom line</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (yPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getHeight() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
	{
		printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
		ball<span style="color: #666666">-&gt;</span>setYPos(ball<span style="color: #666666">-&gt;</span>getYPos() <span style="color: #666666">+</span> h_max);
		ball<span style="color: #666666">-&gt;</span>setYVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getYVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
<span style="color: #408080; font-style: italic">// is right on the right line</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (xPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> currentBrick<span style="color: #666666">-&gt;</span>getWidth() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
	{
		printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
		ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">+</span> w_max);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
<span style="color: #408080; font-style: italic">// is right on the left line</span>
	<span style="color: #008000; font-weight: bold">else</span> <span style="color: #0000FF">if</span> (xPosTemp <span style="color: #666666">==</span> currentBrick<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">&amp;&amp;</span> <span style="color: #666666">!</span>hasMoved)
	{
		printf(<span style="color: #BA2121">&quot;on the line: </span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);
		ball<span style="color: #666666">-&gt;</span>setXPos(ball<span style="color: #666666">-&gt;</span>getXPos() <span style="color: #666666">-</span> w_max);
		ball<span style="color: #666666">-&gt;</span>setXVelocity(<span style="color: #666666">-</span>(ball<span style="color: #666666">-&gt;</span>getXVelocity()));
		hasMoved <span style="color: #666666">=</span> <span style="color: #008000">true</span>;
	}
</pre></div>

<img src="images/cornerCase2.png" alt="" style="float: left; width: 100%; margin-right: 1%;">
</p>
<br></br>
Finally we can actually check how the ball intersected with the brick according to the vector tracking the collision corner
from the prior frame. In the code below we use the helper function intersect from the beginning of the lesson to 
check if the line formed by each side of the brick intersect with the line formed by the collision corner from the prior frame and current frame.
We can see this more clearly in the image. We check if CD intersects with AB where AB will be each side of the brick
in each case. Based on which case is true we can find which side of the brick intersects with the ball.
However there is one final edge case which is if the intersection width and height are exactly the same so the ball
exactly hits the corner of the brick. This is shown at the bottom. That is it. It is a lot of code but
quite redundant and not too difficult to understand if you draw it out.
<img src="images/intersection.png" alt="" style="float: left; width: 100%; margin-right: 1%;">

<br></br>
This is all the code for SimpleGame::logic. The next thing we need to do is actually create the bricks in the GameNode.h file as shown below. 
We basically just make ArcadeTextures and brick entities. We can see this below.
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> (<span style="color: #B00040">int</span> row <span style="color: #666666">=</span> <span style="color: #666666">0</span>; row <span style="color: #666666">&lt;</span> <span style="color: #666666">5</span>; row<span style="color: #666666">++</span>)
	{
		<span style="color: #008000; font-weight: bold">for</span> (<span style="color: #B00040">int</span> col <span style="color: #666666">=</span> <span style="color: #666666">0</span>; col <span style="color: #666666">&lt;</span> <span style="color: #666666">10</span>; col<span style="color: #666666">++</span>)
		{
			<span style="color: #008000; font-weight: bold">if</span> (row <span style="color: #666666">==</span> <span style="color: #666666">0</span>)
			{
				Brick<span style="color: #666666">*</span> newYellowBrick <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Brick;
				ArcadeTexture<span style="color: #666666">*</span> yellowBrickTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/yellowBrickTexture.png&quot;</span>);
				yellowBrickTexture<span style="color: #666666">-&gt;</span>setPosition(<span style="color: #666666">70</span> <span style="color: #666666">+</span> col <span style="color: #666666">*</span> <span style="color: #666666">50</span>, <span style="color: #666666">50</span> <span style="color: #666666">+</span> row <span style="color: #666666">*</span> <span style="color: #666666">20</span>);
				newYellowBrick<span style="color: #666666">-&gt;</span>setGameObjectTexture(yellowBrickTexture);
				game<span style="color: #666666">-&gt;</span>addEntity(newYellowBrick);
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (row <span style="color: #666666">==</span> <span style="color: #666666">1</span>)
			{
				Brick<span style="color: #666666">*</span> newBlueBrick <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Brick;
				ArcadeTexture<span style="color: #666666">*</span> blueBrickTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/blueBrickTexture.png&quot;</span>);
				blueBrickTexture<span style="color: #666666">-&gt;</span>setPosition(<span style="color: #666666">70</span> <span style="color: #666666">+</span> col <span style="color: #666666">*</span> <span style="color: #666666">50</span>, <span style="color: #666666">50</span> <span style="color: #666666">+</span> row <span style="color: #666666">*</span> <span style="color: #666666">20</span>);
				newBlueBrick<span style="color: #666666">-&gt;</span>setGameObjectTexture(blueBrickTexture);
				game<span style="color: #666666">-&gt;</span>addEntity(newBlueBrick);
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (row <span style="color: #666666">==</span> <span style="color: #666666">2</span>)
			{
				Brick<span style="color: #666666">*</span> newRedBrick <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Brick;
				ArcadeTexture<span style="color: #666666">*</span> redBrickTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/redBrickTexture.png&quot;</span>);
				redBrickTexture<span style="color: #666666">-&gt;</span>setPosition(<span style="color: #666666">70</span> <span style="color: #666666">+</span> col <span style="color: #666666">*</span> <span style="color: #666666">50</span>, <span style="color: #666666">50</span> <span style="color: #666666">+</span> row <span style="color: #666666">*</span> <span style="color: #666666">20</span>);
				newRedBrick<span style="color: #666666">-&gt;</span>setGameObjectTexture(redBrickTexture);
				game<span style="color: #666666">-&gt;</span>addEntity(newRedBrick);
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (row <span style="color: #666666">==</span> <span style="color: #666666">3</span>)
			{
				Brick<span style="color: #666666">*</span> newGreenBrick <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Brick;
				ArcadeTexture<span style="color: #666666">*</span> greenBrickTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/greenBrickTexture.png&quot;</span>);
				greenBrickTexture<span style="color: #666666">-&gt;</span>setPosition(<span style="color: #666666">70</span> <span style="color: #666666">+</span> col <span style="color: #666666">*</span> <span style="color: #666666">50</span>, <span style="color: #666666">50</span> <span style="color: #666666">+</span> row <span style="color: #666666">*</span> <span style="color: #666666">20</span>);
				newGreenBrick<span style="color: #666666">-&gt;</span>setGameObjectTexture(greenBrickTexture);
				game<span style="color: #666666">-&gt;</span>addEntity(newGreenBrick);
			}
			<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (row <span style="color: #666666">==</span> <span style="color: #666666">4</span>)
			{
				Brick<span style="color: #666666">*</span> newYellowBrick <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Brick;
				ArcadeTexture<span style="color: #666666">*</span> yellowBrickTexture <span style="color: #666666">=</span> createImage(renderer_in, <span style="color: #BA2121">&quot;brickBreakerNodeImages/yellowBrickTexture.png&quot;</span>);
				yellowBrickTexture<span style="color: #666666">-&gt;</span>setPosition(<span style="color: #666666">70</span> <span style="color: #666666">+</span> col <span style="color: #666666">*</span> <span style="color: #666666">50</span>, <span style="color: #666666">50</span> <span style="color: #666666">+</span> row <span style="color: #666666">*</span> <span style="color: #666666">20</span>);
				newYellowBrick<span style="color: #666666">-&gt;</span>setGameObjectTexture(yellowBrickTexture);
				game<span style="color: #666666">-&gt;</span>addEntity(newYellowBrick);
			}
		}
	}
</pre></div>
We are finally done with the game programming and we can connect it with the menu system by adding some more nodes. We have already gone
over this in prior lessons so I will not go over it. The entire code for the final project is in the GitHub repos at the bottom.

<br></br>
<h5>That is it for this project. We started by designing and implementing a menu system and learned how to use Git.
	After that we learned about game design and animation and implemented a game with collision detection. Finally,
	we connected the game with the menu through our GameNode.
</h5>
<hr>
<h5>
	To learn more about how to create your own games and how to expand this project and customize it, take a look at the documentation center in the
	coming weeks. I will post templates for how to create new nodes, screens, and games to provide you with a starting point.
	This was a lot of information and code condensed into 5 lessons so don't worry if it is confusing. The best way to understand it
	is to start simple and play with the parameters of working code and see how it changes.
</h5>

</p>

	Code for final lesson.<br></br>
	https://github.com/geffencooper/final_lesson
	<br></br>
	Code for full menu system<br></br>
	https://github.com/geffencooper/bareMenuFiles
	<br></br>
	Code for full project<br></br>
	I will update this soon but all the code you need is in the two repos above and the repos
	from the two lessons before on game design and animation which have the paddle and ball classes.

</p>

				<!-- Footer -->
					<footer id="footer">
						
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
